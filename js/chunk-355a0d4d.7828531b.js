(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-355a0d4d"],{5408:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("page-header-wrapper",[r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择订单状态"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}},t._l(t.orderConfig.orderStatus,(function(e,a){return r("a-select-option",{key:a,attrs:{value:e.key}},[t._v(t._s(e.value))])})),1)],1)],1),t.isNotVUser?r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"推广大V"}},[r("div",{staticClass:"select-v",on:{click:t.selectVData}},[t._v(t._s(t.vData.name))])])],1):t._e(),t.advanced?[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"下单时间"}},[r("a-range-picker",{on:{change:t.onChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"订单编号"}},[r("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.orderNo,callback:function(e){t.$set(t.queryParam,"orderNo",e)},expression:"queryParam.orderNo"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"下单手机号"}},[r("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.phone,callback:function(e){t.$set(t.queryParam,"phone",e)},expression:"queryParam.phone"}})],1)],1)]:t._e(),r("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[r("a-button",{attrs:{type:"primary"},on:{click:t.refreshTable}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){e.queryParam={},e.vData={name:""}}}},[t._v("重置")]),r("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v(" "+t._s(t.advanced?"收起":"展开")+" "),r("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),this.selectedRows.length>0?r("div",{staticClass:"table-operator"},[r("download-excel",{attrs:{data:t.selectedRows,fields:t.json_fields,type:"csv",worksheet:"My Worksheet",name:"订单.xls"}},[r("a-button",{attrs:{type:"primary"}},[t._v("导出")])],1)],1):t._e(),r("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:t.columns,data:t.loadData,scroll:{x:!0},alert:t.options.alert,rowSelection:t.options.rowSelection,showPagination:"auto"},scopedSlots:t._u([{key:"type",fn:function(e){return r("span",{},[t._v(" "+t._s(t.getProductType(e))+" ")])}},{key:"realPrice",fn:function(e){return r("span",{},[t._v(" ¥"+t._s(parseFloat((e/100).toString()).toFixed(2))+" ")])}},{key:"status",fn:function(e){return r("span",{},[t._v(" "+t._s(t.getOrderStatus(e))+" ")])}},{key:"totalMoney",fn:function(e,a){return r("span",{},[t._v(" ¥"+t._s(a.price?(parseFloat(a.price.toString())/100).toFixed(2):"0.00")+"*"+t._s(a.num?a.num:"0")+" ")])}},{key:"address",fn:function(e,a){return r("span",{},[t._v(" "+t._s((a.province?a.province:"")+" "+(a.city?a.city:"")+" "+(a.area?a.area:"")+" "+(e||""))+" ")])}},{key:"action",fn:function(e,a){return r("span",{},[[r("a",{on:{click:function(e){return t.showDetail(a)}}},[t._v("详情")]),t.isNeedSend(""+a.status)?r("a-divider",{attrs:{type:"vertical"}}):t._e(),t.isNeedSend(""+a.status)?r("a",{on:{click:function(e){return t.send(a)}}},[t._v("发货")]):t._e(),t.isNeedRefund(""+a.status)?r("a-divider",{attrs:{type:"vertical"}}):t._e(),t.isNeedRefund(""+a.status)?r("a",{on:{click:function(e){return t.refund(a)}}},[t._v("退款")]):t._e()]],2)}}])}),r("select-v",{attrs:{visible:t.visible},on:{cancel:t.handleSelectVCancel,ok:t.handleSelectVOk}}),t.orderDetailVisible?r("order-detail",{attrs:{visible:t.orderDetailVisible,id:t.oId},on:{cancel:t.handleOrderDetailCancel,ok:t.handleOrderDetailOk}}):t._e(),t.sendVisible?r("send-product",{attrs:{visible:t.sendVisible,id:t.oId},on:{cancel:t.handleOrderSendCancel,ok:t.handleOrderSendOk}}):t._e(),t.refundVisible?r("refund-product",{attrs:{visible:t.refundVisible,id:t.oId},on:{cancel:t.handleOrderRefundCancel,ok:t.handleOrderRefundOk}}):t._e()],1)],1)},n=[],s=(a("b680"),a("2af9")),i=a("0fea"),o=a("a754"),l=a("ca00"),d=a("a078"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"订单详情",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[a("a-descriptions",{attrs:{title:"订单信息"}},[a("a-descriptions-item",{attrs:{label:"订单编号"}},[e._v(e._s(e.data.orderNo?e.data.orderNo:""))]),a("a-descriptions-item",{attrs:{label:"订单状态"}},[e._v(e._s(e.getOrderStatus(e.data.status?e.data.status:"")))]),a("a-descriptions-item",{attrs:{label:"下单人"}},[e._v(e._s(e.data.purchaseUsername?e.data.purchaseUsername:""))]),a("a-descriptions-item",{attrs:{label:"下单手机号"}},[e._v(e._s(e.data.purchasePhone?e.data.purchasePhone:""))]),a("a-descriptions-item",{attrs:{label:"下单时间"}},[e._v(e._s(e.data.createTime?e.data.createTime:""))]),a("a-descriptions-item",{attrs:{label:"客户备注"}},[e._v(e._s(e.data.customRemark?e.data.customRemark:""))]),a("a-descriptions-item",{attrs:{label:"推广大V"}},[e._v(e._s(e.data.vname?e.data.vname:""))])],1),e.data.type===e.productConfig.productType.realProduct?a("a-divider",{staticStyle:{"margin-bottom":"32px"}}):e._e(),e.data.type===e.productConfig.productType.realProduct?a("a-descriptions",{attrs:{title:"收货信息"}},[a("a-descriptions-item",{attrs:{label:"收货人"}},[e._v(e._s(e.data.receiveUsername?e.data.receiveUsername:""))]),a("a-descriptions-item",{attrs:{label:"联系方式"}},[e._v(e._s(e.data.receivePhone?e.data.receivePhone:""))]),a("a-descriptions-item",{attrs:{label:"收货地址"}},[e._v(e._s((e.data.province?e.data.province:"")+" "+(e.data.city?e.data.city:"")+" "+(e.data.area?e.data.area:"")+" "+(e.data.address?e.data.address:"")))])],1):e._e(),a("a-divider",{staticStyle:{"margin-bottom":"32px"}}),a("a-descriptions",{attrs:{title:"商品信息"}}),e.data.id?a("a-table",{attrs:{columns:e.columns,rowKey:"id","data-source":[e.data],pagination:!1},scopedSlots:e._u([{key:"type",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getProductType(t))+" ")])}},{key:"price",fn:function(t){return a("span",{},[e._v(" ¥"+e._s(parseFloat((t/100).toString()).toFixed(2))+" ")])}},{key:"total",fn:function(t,r){return a("span",{},[e._v(" ¥"+e._s(parseFloat((parseInt(""+r.price)*parseInt(""+r.num)/100).toString()).toFixed(2))+" ")])}}],null,!1,111783700)}):e._e(),a("div",{staticStyle:{"margin-bottom":"32px"}}),a("a-descriptions",{attrs:{title:"付款信息"}},[a("a-descriptions-item",{attrs:{label:"商品金额"}},[e._v("¥"+e._s((parseInt(e.data.price?e.data.price:"0")*parseInt(e.data.num?e.data.num:"0")/100).toFixed(2)))]),a("a-descriptions-item",{attrs:{label:"运费"}},[e._v("¥"+e._s((parseInt(e.data.expense?e.data.expense:"0.00")/100).toFixed(2)))]),a("a-descriptions-item",{attrs:{label:"优惠金额"}},[e._v("¥"+e._s((parseInt(e.data.couponPrice?e.data.couponPrice:"0.00")/100).toFixed(2)))]),a("a-descriptions-item",{attrs:{label:"实付金额"}},[e._v("¥"+e._s((parseInt(e.data.realPrice?e.data.realPrice:"0.00")/100).toFixed(2)))])],1),e.data.type===e.productConfig.productType.realProduct?a("a-divider",{staticStyle:{"margin-bottom":"32px"}}):e._e(),e.data.type===e.productConfig.productType.realProduct?a("a-descriptions",{attrs:{title:"物流信息"}},[a("a-descriptions-item",{attrs:{label:"物流公司"}},[e._v(e._s(e.data.logistics))]),a("a-descriptions-item",{attrs:{label:"物流单号"}},[e._v(e._s(e.data.logisticsNum?e.data.logisticsNum:""))])],1):e._e(),a("a-row",{attrs:{type:"flex",justify:"end"}},[e.isNeedRefund(e.data.status)?a("a-col",{attrs:{span:2}},[a("a-button",{attrs:{type:"danger"},on:{click:e.refund}},[e._v(" 退款 ")])],1):e._e(),e.isNeedSend(e.data.status)?a("a-col",{attrs:{span:2}},[a("a-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v(" 发货 ")])],1):e._e()],1)],1),e.sendVisible?a("send-product",{attrs:{visible:e.sendVisible,id:e.id},on:{cancel:e.handleOrderSendCancel,ok:e.handleOrderSendOk}}):e._e(),e.refundVisible?a("refund-product",{attrs:{visible:e.refundVisible,id:e.id},on:{cancel:e.handleOrderRefundCancel,ok:e.handleOrderRefundOk}}):e._e()],1)},u=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"发货",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"物流公司",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["logistics",{rules:[{required:!0,message:"请选择物流公司"}]}],expression:"[\n            'logistics',\n            {rules: [{ required: true, message: '请选择物流公司' }]}\n          ]"}],attrs:{placeholder:"请选择物流公司"}},e._l(e.orderConfig.logistics,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.value}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"物流单号",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["logisticsNum",{rules:[{required:!0,message:"请输入物流单号"}]}],expression:"[\n            'logisticsNum',\n            {rules: [{ required: true, message: '请输入物流单号' }]}\n          ]"}],attrs:{placeholder:"物流单号"}})],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))])],1)],1)],1)],1)},m=[],f=a("5530"),h={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{},data:function(){return this.orderConfig=d["g"],{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(i["pb"])(Object(f["a"])(Object(f["a"])({},a),{},{id:t.id})).then((function(e){t.$notification.success({message:"订单发货成功"}),t.$emit("ok")}))}))}},created:function(){}},b=h,v=a("2877"),y=Object(v["a"])(b,p,m,!1,null,"3879e989",null),_=y.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"退货",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"退款原因",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["reason",{rules:[{required:!0,message:"请选择退款原因"}]}],expression:"[\n            'reason',\n            {rules: [{ required: true, message: '请选择退款原因' }]}\n          ]"}],attrs:{placeholder:"请选择退款原因"}},e._l(e.orderConfig.reason,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"退款方式",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["way",{rules:[{required:!0,message:"请选择退款方式"}]}],expression:"[\n            'way',\n            {rules: [{ required: true, message: '请选择退款方式' }]}\n          ]"}],attrs:{placeholder:"请选择退款方式"}},e._l(e.orderConfig.way,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"备注",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"[\n            'remark'\n          ]"}],attrs:{rows:"4",name:"des",placeholder:"备注"}})],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))])],1)],1)],1)],1)},k=[],x={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{},data:function(){return this.orderConfig=d["g"],{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(i["ob"])(Object(f["a"])(Object(f["a"])({},a),{},{id:t.id})).then((function(e){t.$notification.success({message:"退款成功"}),t.$emit("ok")}))}))}},created:function(){}},w=x,O=Object(v["a"])(w,g,k,!1,null,"1bea182b",null),S=O.exports,P={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{SendProduct:_,RefundProduct:S},data:function(){return this.productConfig=d["j"],{data:{},sendVisible:!1,refundVisible:!1,columns:[{title:"商品 id",dataIndex:"pId"},{title:"商品名称",dataIndex:"name"},{title:"商品类型",dataIndex:"type",scopedSlots:{customRender:"type"}},{title:"商品单价",dataIndex:"price",scopedSlots:{customRender:"price"}},{title:"商品数量",dataIndex:"num"},{title:"小计",dataIndex:"total",scopedSlots:{customRender:"total"}}]}},methods:{getOrderStatus:function(e){return Object(l["m"])(e)},handleOrderSendCancel:function(){this.sendVisible=!1},handleOrderSendOk:function(){this.sendVisible=!1,this.$emit("ok",!0)},handleOrderRefundCancel:function(){this.refundVisible=!1},handleOrderRefundOk:function(){this.refundVisible=!1,this.$emit("ok",!0)},isNeedSend:function(e){return Object(l["x"])(e)},isNeedRefund:function(e){return Object(l["w"])(e)},getLogistics:function(e){return Object(l["k"])(e)},send:function(){this.sendVisible=!0},refund:function(){this.refundVisible=!0},getProductType:function(e){return Object(l["o"])(e)}},created:function(){var e=this;Object(i["Y"])(this.id).then((function(t){e.data=t.data}))}},C=P,I=Object(v["a"])(C,c,u,!1,null,"0a512d9e",null),R=I.exports,V=[{title:"订单id",dataIndex:"id",width:"100px"},{title:"订单编号",dataIndex:"orderNo",width:"100px"},{title:"商品名称",dataIndex:"name",width:"120px"},{title:"商品类型",dataIndex:"type",scopedSlots:{customRender:"type"}},{title:"商品单价*数量",dataIndex:"totalMoney",scopedSlots:{customRender:"totalMoney"}},{title:"商品金额",dataIndex:"realPrice",scopedSlots:{customRender:"realPrice"}},{title:"推广大V",dataIndex:"vname",width:"100px"},{title:"收货地址",scopedSlots:{customRender:"address"},dataIndex:"address",width:"130px"},{title:"下单人",dataIndex:"purchaseUsername",width:"80px"},{title:"下单手机号",dataIndex:"purchasePhone"},{title:"下单时间",dataIndex:"createTime",sorter:!0},{title:"支付时间",dataIndex:"payTime",sorter:!0},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",width:"150px",fixed:"right",scopedSlots:{customRender:"action"}}],q={name:"OrderList",components:{STable:s["c"],Ellipsis:s["b"],SelectV:o["a"],OrderDetail:R,SendProduct:_,RefundProduct:S},data:function(){var e=this;return this.columns=V,this.orderConfig=d["g"],{visible:!1,oId:"",mdl:null,date:null,advanced:!1,isNotVUser:!Object(l["z"])(),orderDetailVisible:!1,sendVisible:!1,refundVisible:!1,vData:{name:""},json_fields:{"订单 ID":"id","商品名称":"name","商品类型":{field:"type",callback:function(e){return Object(l["o"])(e)}},"商品单价":{field:"price",callback:function(e){return"¥"+(parseFloat("".concat(e))/100).toFixed(2)}},"商品数量":"num","商品金额":{field:"realPrice",callback:function(e){return"¥"+(parseFloat("".concat(e))/100).toFixed(2)}},"推广大V":"vname","省":{field:"province",callback:function(e){return e||""}},"市":{field:"city",callback:function(e){return e||""}},"区":{field:"area",callback:function(e){return e||""}},"详细地址":{field:"address",callback:function(e){return e||""}},"下单人":"purchaseUsername","下单手机号":"purchasePhone","下单时间":"createTime","支付时间":"payTime","状态":{field:"status",callback:function(e){return Object(l["m"])(e)}}},selectedRowKeys:[],selectedRows:[],options:{alert:{show:!1,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,selectedRows:this.selectedRows,onChange:this.onSelectChange}},optionAlertShow:!1,queryParam:{},loadData:function(t){var a=Object.assign({vId:Object(l["z"])()?Object(l["t"])():""},t,e.queryParam);return Object(i["Z"])(a).then((function(e){return{data:e.data.list||[],total:e.data.total||0,page:a.page}}))}}},methods:{selectVData:function(e){e.preventDefault(),this.visible=!0},refreshTable:function(){!this.queryParam.phone||Object(l["y"])(this.queryParam.phone)?this.$refs.table.refresh(!0):this.$notification.error({message:"手机号码格式不对"})},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleSelectVCancel:function(){this.visible=!1},handleOrderDetailCancel:function(){this.orderDetailVisible=!1},handleOrderDetailOk:function(e){this.orderDetailVisible=!1,e&&this.$refs.table.loadData()},handleOrderSendCancel:function(){this.sendVisible=!1},handleOrderSendOk:function(){this.sendVisible=!1,this.$refs.table.loadData()},handleOrderRefundCancel:function(){this.refundVisible=!1},handleOrderRefundOk:function(){this.refundVisible=!1,this.$refs.table.loadData()},handleSelectVOk:function(e){this.visible=!1,null!==e&&void 0!==e&&""!==e&&(this.vData=e,this.queryParam.vId=e.id)},getProductType:function(e){return Object(l["o"])(e)},getOrderStatus:function(e){return Object(l["m"])(e)},showDetail:function(e){this.orderDetailVisible=!0,this.oId=e.id},isNeedSend:function(e){return Object(l["x"])(e)},isNeedRefund:function(e){return Object(l["w"])(e)},send:function(e){this.oId=e.id,this.sendVisible=!0},refund:function(e){this.oId=e.id,this.refundVisible=!0},onChange:function(e){this.date=e,e&&e.length>0?(this.queryParam.startTime=e[0].format("YYYY-MM-DD")+" 00:00:00",this.queryParam.endTime=e[1].format("YYYY-MM-DD")+" 00:00:00"):(this.queryParam.startTime=null,this.queryParam.endTime=null)},action:function(e){},toggleAdvanced:function(){this.advanced=!this.advanced}}},j=q,$=(a("9cf7"),Object(v["a"])(j,r,n,!1,null,null,null));t["default"]=$.exports},"56cf":function(e,t,a){},"9cf7":function(e,t,a){"use strict";a("56cf")},a754:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"选择大V",width:1200,visible:e.visible,footer:null},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"大V名字"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"手机号"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{float:"right",overflow:"hidden"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),this.selectedRowKeys.length>0?a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary"},on:{click:e.selectUser}},[e._v("选择")])],1):e._e(),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"vId",columns:e.columns,data:e.loadData,alert:this.isMultiple?e.options.alert:null,rowSelection:this.isMultiple?e.options.rowSelection:null,showPagination:"auto"},scopedSlots:e._u([{key:"avatar",fn:function(e){return a("span",{},[a("a-avatar",{attrs:{src:e}})],1)}},{key:"action",fn:function(t,r){return a("span",{},[[a("a",{on:{click:function(){e.$emit("ok",Object.assign({},r,{id:r.vId}))}}},[e._v("选择")])]],2)}}])})],1)},n=[],s=a("5530"),i=(a("d81d"),a("b0c0"),a("2af9")),o=a("0fea"),l=[{title:"大V编号",dataIndex:"vId"},{title:"头像",dataIndex:"avatar",scopedSlots:{customRender:"avatar"}},{title:"名字",dataIndex:"name"},{title:"手机号",dataIndex:"phone"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],d=[{title:"大V编号",dataIndex:"vId"},{title:"头像",dataIndex:"avatar",scopedSlots:{customRender:"avatar"}},{title:"名字",dataIndex:"name"},{title:"手机号",dataIndex:"phone"}],c={props:{visible:{type:Boolean,required:!0},isMultiple:{type:Boolean},selectKeys:{type:Array,default:function(){return[]}},selectRows:{type:Array,default:function(){return[]}}},components:{STable:i["c"]},methods:{onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},selectUser:function(){var e="",t="";this.selectedRows.map((function(a){e+=a.vId+",",t+=a.name+","})),e=e.substring(0,e.length-1),t=t.substring(0,t.length-1),this.$emit("ok",{name:t,id:e})}},data:function(){var e=this;return this.columns=this.isMultiple?d:l,{queryParam:{},selectedRowKeys:this.selectKeys,selectedRows:this.selectRows,options:{alert:{show:!0,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectKeys,onChange:this.onSelectChange}},optionAlertShow:!1,loadData:function(t){var a=Object.assign({},t,e.queryParam);return Object(o["eb"])(a).then((function(e){return Object(s["a"])(Object(s["a"])({},e.data),{},{page:a.page})}))}}},created:function(){}},u=c,p=a("2877"),m=Object(p["a"])(u,r,n,!1,null,null,null);t["a"]=m.exports}}]);