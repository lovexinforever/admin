(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d021c654"],{"5a20":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("page-header-wrapper",[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"订单 id"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.orderId,callback:function(t){e.$set(e.queryParam,"orderId",t)},expression:"queryParam.orderId"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"所属大V"}},[n("div",{staticClass:"select-v",on:{click:e.selectVData}},[e._v(e._s(e.vData.name))])])],1),e.advanced?[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},e._l(e.commissionConfig.commissionStatus,(function(t,a){return n("a-select-option",{key:a,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"佣金类型"}},[n("a-select",{attrs:{placeholder:"请选择佣金类型"},model:{value:e.queryParam.type,callback:function(t){e.$set(e.queryParam,"type",t)},expression:"queryParam.type"}},e._l(e.commissionConfig.commissionType,(function(t,a){return n("a-select-option",{key:a,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"下单手机号"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){t.queryParam={},t.vData={name:""}}}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v(" "+e._s(e.advanced?"收起":"展开")+" "),n("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],2)],1)],1),n("s-table",{ref:"table",attrs:{rowKey:"id",columns:e.columns,data:e.loadData,scroll:{x:!0},showPagination:"auto"},scopedSlots:e._u([{key:"orderPrice",fn:function(t){return n("span",{},[e._v(" ¥"+e._s(t?(parseInt(t.toString())/100).toFixed(2):"0.00")+" ")])}},{key:"commissionPrice",fn:function(t){return n("span",{},[e._v(" ¥"+e._s(t?(parseInt(t.toString())/100).toFixed(2):"0.00")+" ")])}},{key:"commissionType",fn:function(t){return n("span",{},[e._v(" "+e._s(e.getCommissionType(t))+" ")])}},{key:"status",fn:function(t){return n("span",{},[e._v(" "+e._s(e.getCommissionStatus(t))+" ")])}}])}),n("select-v",{attrs:{visible:e.visible},on:{cancel:e.handleSelectVCancel,ok:e.handleSelectVOk}})],1)],1)},s=[],i=a("2af9"),o=a("0fea"),r=a("a754"),l=a("ca00"),c=a("a078"),d=[{title:"佣金id",dataIndex:"id"},{title:"下单人id",dataIndex:"uid"},{title:"下单人手机号",dataIndex:"phone"},{title:"下单人姓名",dataIndex:"username"},{title:"商品 id",dataIndex:"pid"},{title:"订单 id",dataIndex:"oid"},{title:"支付时间",dataIndex:"payTime",sorter:!0},{title:"订单金额",dataIndex:"orderPrice",scopedSlots:{customRender:"orderPrice"}},{title:"佣金金额",dataIndex:"commissionPrice",scopedSlots:{customRender:"commissionPrice"}},{title:"佣金类型",dataIndex:"commissionType",scopedSlots:{customRender:"commissionType"}},{title:"所属大V",dataIndex:"vname"},{title:"状态",dataIndex:"status",width:"150px",fixed:"right",scopedSlots:{customRender:"status"}}],u={name:"CommissionList",components:{STable:i["c"],Ellipsis:i["b"],SelectV:r["a"]},data:function(){var t=this;return this.columns=d,this.commissionConfig=c["c"],{visible:!1,data:{},mdl:null,advanced:!1,vData:{name:""},contentEditVisible:!1,queryParam:{},loadData:function(e){var a=Object.assign({},e,t.queryParam);return Object(o["I"])(a).then((function(t){return{data:t.data.data,total:t.data.total,page:a.page}}))}}},methods:{selectVData:function(t){t.preventDefault(),this.visible=!0},handleSelectVCancel:function(){this.visible=!1},handleEditContentCancel:function(){this.contentEditVisible=!1},handleEditContentOk:function(){this.contentEditVisible=!1,this.$refs.table.loadData()},handleSelectVOk:function(t){this.visible=!1,null!==t&&void 0!==t&&""!==t&&(this.vData=t,this.queryParam.vId=t.id)},getCommissionType:function(t){return Object(l["c"])(t)},getCommissionStatus:function(t){return Object(l["b"])(t)},edit:function(t){this.data=t,this.contentEditVisible=!0},toggleAdvanced:function(){this.advanced=!this.advanced}}},m=u,p=(a("d1c8"),a("2877")),f=Object(p["a"])(m,n,s,!1,null,null,null);e["default"]=f.exports},a754:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"选择大V",width:1200,visible:t.visible,footer:null},on:{ok:function(){t.$emit("ok")},cancel:function(){t.$emit("cancel")}}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"大V名字"}},[a("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.name,callback:function(e){t.$set(t.queryParam,"name",e)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"手机号"}},[a("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.phone,callback:function(e){t.$set(t.queryParam,"phone",e)},expression:"queryParam.phone"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{float:"right",overflow:"hidden"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")])],1)])],1)],1)],1),this.selectedRowKeys.length>0?a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary"},on:{click:t.selectUser}},[t._v("选择")])],1):t._e(),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"vId",columns:t.columns,data:t.loadData,alert:this.isMultiple?t.options.alert:null,rowSelection:this.isMultiple?t.options.rowSelection:null,showPagination:"auto"},scopedSlots:t._u([{key:"avatar",fn:function(t){return a("span",{},[a("a-avatar",{attrs:{src:t}})],1)}},{key:"action",fn:function(e,n){return a("span",{},[[a("a",{on:{click:function(){t.$emit("ok",Object.assign({},n,{id:n.vId}))}}},[t._v("选择")])]],2)}}])})],1)},s=[],i=a("5530"),o=(a("d81d"),a("b0c0"),a("2af9")),r=a("0fea"),l=[{title:"大V编号",dataIndex:"vId"},{title:"头像",dataIndex:"avatar",scopedSlots:{customRender:"avatar"}},{title:"名字",dataIndex:"name"},{title:"手机号",dataIndex:"phone"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],c=[{title:"大V编号",dataIndex:"vId"},{title:"头像",dataIndex:"avatar",scopedSlots:{customRender:"avatar"}},{title:"名字",dataIndex:"name"},{title:"手机号",dataIndex:"phone"}],d={props:{visible:{type:Boolean,required:!0},isMultiple:{type:Boolean},selectKeys:{type:Array,default:function(){return[]}},selectRows:{type:Array,default:function(){return[]}}},components:{STable:o["c"]},methods:{onSelectChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},selectUser:function(){var t="",e="";this.selectedRows.map((function(a){t+=a.vId+",",e+=a.name+","})),t=t.substring(0,t.length-1),e=e.substring(0,e.length-1),this.$emit("ok",{name:e,id:t})}},data:function(){var t=this;return this.columns=this.isMultiple?c:l,{queryParam:{},selectedRowKeys:this.selectKeys,selectedRows:this.selectRows,options:{alert:{show:!0,clear:function(){t.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectKeys,onChange:this.onSelectChange}},optionAlertShow:!1,loadData:function(e){var a=Object.assign({},e,t.queryParam);return Object(r["eb"])(a).then((function(t){return Object(i["a"])(Object(i["a"])({},t.data),{},{page:a.page})}))}}},created:function(){}},u=d,m=a("2877"),p=Object(m["a"])(u,n,s,!1,null,null,null);e["a"]=p.exports},b922:function(t,e,a){},d1c8:function(t,e,a){"use strict";a("b922")}}]);