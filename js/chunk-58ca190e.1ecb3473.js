(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58ca190e"],{"8f34":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"修改密码",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"新密码",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入新密码"}]}],expression:"[\n            'password',\n            {rules: [{ required: true, message: '请输入新密码' }]}\n          ]"}],attrs:{placeholder:"新密码"}})],1),a("a-form-item",{attrs:{label:"确认密码",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["repeatPassword",{rules:[{required:!0,message:"请输入确认密码"}]}],expression:"[\n            'repeatPassword',\n            {rules: [{ required: true, message: '请输入确认密码' }]}\n          ]"}],attrs:{placeholder:"确认密码"}})],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))])],1)],1)],1)],1)},s=[],n=a("5530"),i=a("0fea"),o={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){if(a.password!==a.repeatPassword)return void t.$notification.error({message:"两次输入的密码不一致"});Object(i["jb"])(Object(n["a"])(Object(n["a"])({},a),{},{id:t.id})).then((function(e){t.$notification.success({message:"密码修改成功"}),t.$emit("ok")}))}}))}}},l=o,c=a("2877"),d=Object(c["a"])(l,r,s,!1,null,"f210d3f2",null);t["a"]=d.exports},a2cf:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("page-header-wrapper",[r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"用户名"}},[r("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.username,callback:function(e){t.$set(t.queryParam,"username",e)},expression:"queryParam.username"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"管理员城市"}},[r("a-select",{attrs:{placeholder:"请选择城市"},model:{value:t.queryParam.city,callback:function(e){t.$set(t.queryParam,"city",e)},expression:"queryParam.city"}},t._l(t.vUserConfig.cities,(function(e,a){return r("a-select-option",{key:a,attrs:{value:e.key}},[t._v(t._s(e.value))])})),1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons",style:{float:"right",overflow:"hidden"}},[r("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){e.queryParam={}}}},[t._v("重置")])],1)])],1)],1)],1),r("div",{staticClass:"table-operator"},[r("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("新建")])],1),r("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:t.columns,scroll:{x:!0},data:t.loadData,showPagination:"auto"},scopedSlots:t._u([{key:"city",fn:function(e){return r("span",{},[t._v(" "+t._s(t.getManagerCity(""+e))+" ")])}},{key:"action",fn:function(e,a){return r("span",{},[[r("a",{on:{click:function(e){return t.modifyPassword(a)}}},[t._v("修改密码")]),r("a-divider",{attrs:{type:"vertical"}}),r("a",{on:{click:function(e){return t.deleteManager(a)}}},[t._v("删除")])]],2)}}])})],1),t.visible?r("modify-manager-password",{attrs:{id:t.id,visible:t.visible},on:{cancel:t.handleModifyCancel,ok:t.handleModifyOk}}):t._e()],1)},s=[],n=a("2af9"),i=a("0fea"),o=a("ca00"),l=a("a078"),c=a("8f34"),d=[{title:"管理员id",dataIndex:"id"},{title:"管理员用户名",dataIndex:"username"},{title:"管理员区域",dataIndex:"city",scopedSlots:{customRender:"city"}},{title:"操作",dataIndex:"action",width:"150px",fixed:"right",scopedSlots:{customRender:"action"}}],u={name:"ManagerList",components:{STable:n["c"],Ellipsis:n["b"],ModifyManagerPassword:c["a"]},data:function(){var e=this;return this.columns=d,this.vUserConfig=l["n"],{data:{},mdl:null,queryParam:{},id:"",visible:!1,loadData:function(t){var a=Object.assign({},t,e.queryParam);return Object(i["X"])(a).then((function(e){return{data:e.data.list,total:e.data.total,page:a.page}}))}}},methods:{handleAdd:function(){this.$router.push("/manager/create-manager")},getManagerCity:function(e){return Object(o["l"])(e)},modifyPassword:function(e){this.id=e.id,this.visible=!0},handleModifyCancel:function(){this.visible=!1},handleModifyOk:function(){this.visible=!1},deleteManager:function(e){var t=this;this.$confirm({title:"确定要删除该管理员吗?",content:"删除后无法复原,请谨慎",okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){Object(i["q"])(e.id).then((function(e){t.$notification.success({message:"删除成功"}),t.$refs.table.loadData()}))}})}}},m=u,f=a("2877"),p=Object(f["a"])(m,r,s,!1,null,null,null);t["default"]=p.exports}}]);