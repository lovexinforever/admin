(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cb702b0"],{"0042":function(e,t,a){},"067e":function(e,t,a){"use strict";a("64a3")},"16a2":function(e,t,a){"use strict";a("4501")},"28eb":function(e,t,a){"use strict";a("daa8")},"2c39":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,data:e.loadData,showPagination:"auto"},scopedSlots:e._u([{key:"status",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getCustomStatus(t))+" ")])}},{key:"intentionArea",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getCustomIntentionArea(t))+" ")])}}])})],1)},i=[],r=a("2af9"),o=a("0fea"),s=a("ca00"),l=a("a078"),d=[{title:"客户 id",dataIndex:"id"},{title:"客户昵称",dataIndex:"name"},{title:"手机号码",dataIndex:"phone"},{title:"意向楼盘",dataIndex:"intentionHouse"},{title:"购房预算(万)",dataIndex:"purchaseBudget"},{title:"意向面积(㎡)",scopedSlots:{customRender:"intentionArea"},dataIndex:"intentionArea"},{title:"所属大V",dataIndex:"vname"},{title:"添加时间",dataIndex:"createTime"},{title:"最近更新时间",dataIndex:"updateTime"},{title:"状态",scopedSlots:{customRender:"status"},dataIndex:"status"}],u={name:"VUserCustomList",props:{id:{type:String,required:!0}},components:{STable:r["c"],Ellipsis:r["b"]},data:function(){var e=this;return this.columns=d,this.customConfig=l["f"],{cId:"",mdl:null,queryParam:{},loadData:function(t){var a=Object.assign({vId:e.id},t,e.queryParam);return Object(o["P"])(a).then((function(e){return{data:e.data.list,page:a.page,total:e.data.total}}))},data:{}}},methods:{getCustomIntentionArea:function(e){return Object(s["h"])(e)},getCustomStatus:function(e){return Object(s["i"])(e)}}},c=u,m=(a("067e"),a("2877")),p=Object(m["a"])(c,n,i,!1,null,null,null);t["a"]=p.exports},"40ba":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-header-wrapper",[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"大V名字"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"手机号"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{float:"right",overflow:"hidden"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新建")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"vId",columns:e.columns,data:e.loadData,scroll:{x:!0},showPagination:"auto"},scopedSlots:e._u([{key:"avatar",fn:function(e){return a("span",{},[a("img",{staticClass:"v-avatar",attrs:{src:e,alt:"头像"}})])}},{key:"miniprogramUrl",fn:function(e){return a("span",{},[a("img",{staticClass:"pic",attrs:{src:e,alt:"小程序"}})])}},{key:"wwxUrl",fn:function(t){return a("span",{},[t?a("img",{staticClass:"pic",attrs:{src:t,alt:"企业微信"}}):e._e()])}},{key:"withdrawMoney",fn:function(t){return a("span",{},[e._v(" ¥"+e._s((parseFloat(t||"0")/100).toFixed(2))+" ")])}},{key:"desc",fn:function(t){return t?a("span",{},e._l(t.split(","),(function(t,n){return a("a-tag",{key:t+n,attrs:{color:e.getColor()}},[e._v(" "+e._s(t)+" ")])})),1):e._e()}},{key:"grantedMoney",fn:function(t){return a("span",{},[e._v(" ¥"+e._s((parseFloat(t||"0")/100).toFixed(2))+" ")])}},{key:"totalMoney",fn:function(t){return a("span",{},[e._v(" ¥"+e._s((parseFloat(t||"0")/100).toFixed(2))+" ")])}},{key:"num",fn:function(t,n){return a("span",{},[e._v(" "+e._s(n.enterNum)+"/"+e._s(n.totalNum)+" ")])}},{key:"time",fn:function(t,n){return a("span",{},[e._v(" "+e._s(n.startTime)+"-"+e._s(n.endTime)+" ")])}},{key:"action",fn:function(t,n){return a("span",{},[[a("a",{on:{click:function(t){return e.edit(n)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.deleteVUser(n)}}},[e._v("删除")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.manager(n)}}},[e._v("店铺管理")]),null!=n.adminId?a("a-divider",{attrs:{type:"vertical"}}):e._e(),null!=n.adminId?a("a",{on:{click:function(t){return e.modifyPassword(n)}}},[e._v("修改密码")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.statistics(n)}}},[e._v("数据统计")])]],2)}}],null,!0)})],1),e.visible?a("v-user-edit",{attrs:{visible:e.visible,id:e.vId},on:{cancel:e.handleVUserEditCancel,ok:e.handleVUserEditOk}}):e._e(),e.manageVisible?a("v-user-manage",{attrs:{visible:e.manageVisible,id:e.vId},on:{cancel:e.handleVUserManageCancel,ok:e.handleVUserManageOk}}):e._e(),e.statisticsVisible?a("statistics",{attrs:{visible:e.statisticsVisible,id:e.vId},on:{cancel:e.handleStatisticsCancel,ok:e.handleStatisticsOk}}):e._e(),e.modifyVisible?a("modify-manager-password",{attrs:{id:e.id,visible:e.modifyVisible},on:{cancel:e.handleModifyCancel,ok:e.handleModifyOk}}):e._e()],1)},i=[],r=a("5530"),o=(a("d3b7"),a("25f0"),a("2af9")),s=a("0fea"),l=a("a078"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"编辑大V",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{cancel:function(){e.$emit("cancel")}}},[a("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入大V姓名"}],initialValue:e.name}],expression:"[\n            'name',\n            {rules: [{ required: true, message: '请输入大V姓名' }], initialValue: name}\n          ]"}],attrs:{name:"name",placeholder:"大V姓名"}})],1),a("a-form-item",{attrs:{label:"手机号",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入手机号"}],initialValue:e.phone}],expression:"[\n            'phone',\n            {rules: [{ required: true, message: '请输入手机号' }], initialValue: phone}\n          ]"}],attrs:{name:"name",placeholder:"手机号码"}})],1),a("a-form-item",{staticClass:"avatar-uploader-container",attrs:{label:"头像",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["avatar",{rules:[{required:!0,message:"请选择头像"}],initialValue:e.avatar}],expression:"[\n            'avatar',\n            {rules: [{ required: true, message: '请选择头像' }], initialValue: avatar}\n          ]"}],staticClass:"avatar-uploader-container",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,action:e.getUploadPic,data:e.getData,headers:{Authorization:"Bearer "+e.token},"before-upload":e.beforeUpload},on:{change:e.handleChange}},[e.avatarUrl?a("img",{staticClass:"avatar",attrs:{src:e.avatarUrl,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" 上传 ")])],1)]),a("span",{staticStyle:{color:"grey","line-height":"20px","font-size":"10px"}},[e._v("图片建议尺寸200*200px")])],1),a("a-form-item",{attrs:{label:"简介",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["des",{initialValue:e.des}],expression:"[\n            'des',\n            {initialValue: des}\n          ]"}],attrs:{rows:"4",name:"des",placeholder:"大V标签`,`分割"}})],1),a("a-form-item",{staticClass:"avatar-uploader-container",attrs:{label:"企业微信二维码",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["wwxCodeUrl",{rules:[{required:!0,message:"请选择企业二维码"}],initialValue:e.wwxCode}],expression:"[\n            'wwxCodeUrl',\n            {rules: [{ required: true, message: '请选择企业二维码' }], initialValue: wwxCode}\n\n          ]"}],attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,action:e.getUploadPic,data:e.getData,headers:{Authorization:"Bearer "+e.token},"before-upload":e.beforeUpload},on:{change:e.handleWWXChange}},[e.wwxCodeUrl?a("img",{staticClass:"avatar",attrs:{src:e.wwxCodeUrl,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.wwxLoading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" 上传 ")])],1)]),a("span",{staticStyle:{color:"grey","line-height":"20px","font-size":"10px"}},[e._v("图片建议尺寸200*200px")])],1),a("a-form-item",{attrs:{labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},label:"城市"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0,message:"请选择所在城市"}],initialValue:e.city}],expression:"[\n            'city',\n            {rules: [{ required: true, message: '请选择所在城市' }], initialValue: city }\n          ]"}],attrs:{placeholder:"请选择城市"}},e._l(e.vUserConfig.cities,(function(t,n){return a("a-select-option",{key:n,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1)],1),a("a-form-item",{attrs:{label:"推广佣金",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-form-item",{attrs:{label:"购房服务",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionPurchaseService",{rules:[{required:!0,message:"请填写购物服务比例"}],initialValue:e.promotionPurchaseService}],expression:"[\n              'promotionPurchaseService',\n              {rules: [{ required: true, message: '请填写购物服务比例' }], initialValue: promotionPurchaseService}\n            ]"}],attrs:{min:0,max:100,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")}}})],1),a("a-form-item",{attrs:{label:"购房讲堂",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionPurchaseCourse",{rules:[{required:!0,message:"请填写购物讲堂比例"}],initialValue:e.promotionPurchaseCourse}],expression:"[\n              'promotionPurchaseCourse',\n              {rules: [{ required: true, message: '请填写购物讲堂比例' }], initialValue: promotionPurchaseCourse}\n            ]"}],attrs:{min:0,max:100,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")}}})],1),a("a-form-item",{attrs:{label:"实物商品",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionRealProduct",{rules:[{required:!0,message:"请填写实物商品比例"}],initialValue:e.promotionRealProduct}],expression:"[\n              'promotionRealProduct',\n              {rules: [{ required: true, message: '请填写实物商品比例' }], initialValue: promotionRealProduct}\n            ]"}],attrs:{min:0,max:100,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")}}})],1)],1),a("a-form-item",{attrs:{label:"平台佣金",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-form-item",{attrs:{label:"购房服务",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["platformPurchaseService",{rules:[{required:!0,message:"请填写购物服务比例"}],initialValue:e.platformPurchaseService}],expression:"[\n              'platformPurchaseService',\n              {rules: [{ required: true, message: '请填写购物服务比例' }], initialValue: platformPurchaseService}\n            ]"}],attrs:{min:0,max:100,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")}}})],1),a("a-form-item",{attrs:{label:"购房讲堂",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["platformPurchaseCourse",{rules:[{required:!0,message:"请填写购物讲堂比例"}],initialValue:e.platformPurchaseCourse}],expression:"[\n              'platformPurchaseCourse',\n              {rules: [{ required: true, message: '请填写购物讲堂比例' }], initialValue: platformPurchaseCourse}\n            ]"}],attrs:{min:0,max:100,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")}}})],1),a("a-form-item",{attrs:{label:"实物商品",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["platformRealProduct",{rules:[{required:!0,message:"请填写实物商品比例"}],initialValue:e.platformRealProduct}],expression:"[\n              'platformRealProduct',\n              {rules: [{ required: true, message: '请填写实物商品比例' }], initialValue: platformRealProduct}\n            ]"}],attrs:{min:0,max:100,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")}}})],1)],1),a("a-form-item",{attrs:{label:"签到设置",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["signSettingSwitch",{rules:[{required:!0,message:"请填写实物商品比例"}],initialValue:e.signSettingSwitch,valuePropName:"checked"}],expression:"[\n            'signSettingSwitch',\n            {rules: [{ required: true, message: '请填写实物商品比例' }], initialValue: signSettingSwitch, valuePropName: 'checked'}\n          ]"}],attrs:{"checked-children":"开","un-checked-children":"关"}})],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.getFieldValue("signSettingSwitch"),expression:"form.getFieldValue('signSettingSwitch')"}],attrs:{label:"礼包名称",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftName",{rules:[{required:e.form.getFieldValue("signSettingSwitch"),message:"请输入礼包名称"}],initialValue:e.giftName}],expression:"[\n            'giftName',\n            {rules: [{ required: form.getFieldValue('signSettingSwitch'), message: '请输入礼包名称' }], initialValue: giftName}\n          ]"}],attrs:{placeholder:"礼包名称"}})],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.getFieldValue("signSettingSwitch"),expression:"form.getFieldValue('signSettingSwitch')"}],attrs:{label:"礼包奖品设置",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[e._l(e.form.getFieldValue("keys"),(function(t,n){return a("div",{key:t},[a("a-divider",{staticStyle:{"margin-bottom":"20px"}},[e._v(e._s("奖品"+(n+1)))]),a("a-form-item",{attrs:{label:"奖品类型",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!0}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["types["+t+"]",{rules:[{required:e.form.getFieldValue("signSettingSwitch"),message:"请选择优惠券类型"}]}],expression:"[`types[${k}]`, {rules: [{ required: form.getFieldValue('signSettingSwitch'), message: '请选择优惠券类型' }]}]"}]},[a("a-radio",{attrs:{value:0}},[e._v("优惠券")])],1)],1),a("a-col",[a("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o"},on:{click:function(){return e.remove(t)}}})],1)],1)],1),a("a-form-item",{attrs:{label:"奖品"+(n+1)+"优惠券",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("div",{directives:[{name:"decorator",rawName:"v-decorator",value:["couponIds["+t+"]",{rules:[{required:e.form.getFieldValue("signSettingSwitch"),message:"请选择优惠券"}]}],expression:"[\n                `couponIds[${k}]`,\n                {rules: [{ required: form.getFieldValue('signSettingSwitch'), message: '请选择优惠券' }]}\n              ]"}],staticClass:"coupon-container",on:{click:function(a){return e.selectGiftCoupon(t)}}},[e.map.get("couponIds"+t)?e._e():a("a-icon",{attrs:{type:"plus"}}),e.map.get("couponIds"+t)?a("div",[a("span",{staticClass:"coupon-info"},[e._v(e._s(e.map.get("couponNames"+t)))])]):e._e(),e.map.get("couponIds"+t)?a("div",[a("span",{staticClass:"coupon-info"},[e._v("¥ "+e._s((parseFloat(e.map.get("couponPrices"+t)||"0")/100).toFixed(2)))])]):e._e()],1)]),e.form.getFieldValue("signSettingSwitch")?a("a-form-item",{attrs:{label:"奖品"+(n+1)+"名称",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftNames["+t+"]",{rules:[{required:e.form.getFieldValue("signSettingSwitch"),message:"请输入奖品"+(n+1)+"名称"}]}],expression:"[\n                `giftNames[${k}]`,\n                {rules: [{ required: form.getFieldValue('signSettingSwitch'), message: `请输入奖品${index + 1}名称` }]}\n              ]"}],attrs:{placeholder:"奖品"+(n+1)+"名称"}})],1):e._e(),e.form.getFieldValue("signSettingSwitch")?a("a-form-item",{attrs:{label:"奖品"+(n+1)+"数量",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftNums["+t+"]",{rules:[{required:e.form.getFieldValue("signSettingSwitch"),message:"请输入奖品"+(n+1)+"数量"}]}],expression:"[\n                `giftNums[${k}]`,\n                {rules: [{ required: form.getFieldValue('signSettingSwitch'), message: `请输入奖品${index + 1}数量` }]}\n              ]"}],attrs:{min:1,type:"number",placeholder:"奖品"+(n+1)+"数量"}})],1):e._e()],1)})),e.form.getFieldValue("keys").length<4?a("a-form-item",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.add}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增奖品 ")],1)],1):e._e()],2),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.getFieldValue("signSettingSwitch"),expression:"form.getFieldValue('signSettingSwitch')"}],attrs:{label:"礼包说明",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftDes",{initialValue:e.giftDes}],expression:"[\n            'giftDes',\n            {initialValue: giftDes}\n          ]"}],attrs:{rows:"4",name:"giftDes",placeholder:"礼包说明"}})],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))])],1)],1)],1),e.couponVisible?a("select-coupon",{attrs:{couponVisible:e.couponVisible,id:e.id},on:{cancel:e.handleSelectCouponCancel,ok:e.handleSelectCouponOk}}):e._e()],1)},u=[],c=a("2909"),m=(a("4ec9"),a("3ca3"),a("ddb0"),a("ac1f"),a("1276"),a("b0c0"),a("d81d"),a("99af"),a("4de4"),a("9fb0")),p=a("8ded"),f=a.n(p),g=a("218c"),v=a.n(g),h=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("a-modal",{attrs:{title:"选择优惠券",width:1200,visible:t.couponVisible,footer:null},on:{ok:function(){t.$emit("ok")},cancel:function(){t.$emit("cancel")}}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"券名称"}},[n("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.name,callback:function(e){t.$set(t.queryParam,"name",e)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"券类型"}},[n("a-select",{attrs:{placeholder:"请选择券类型"},model:{value:t.queryParam.type,callback:function(e){t.$set(t.queryParam,"type",e)},expression:"queryParam.type"}},[n("a-select-option",{attrs:{value:this.couponConfig.couponType.purchase}},[t._v("购房服务抵用券")]),n("a-select-option",{attrs:{value:this.couponConfig.couponType.service}},[t._v("购房礼金券")])],1)],1)],1),t.advanced?[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"券状态"}},[n("a-select",{attrs:{placeholder:"请选择券状态"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:this.couponConfig.couponStatus.deactivate}},[t._v("停用")]),n("a-select-option",{attrs:{value:this.couponConfig.couponStatus.normal}},[t._v("正常")]),n("a-select-option",{attrs:{value:this.couponConfig.couponStatus.finish}},[t._v("领完")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"券 id"}},[n("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.id,callback:function(e){t.$set(t.queryParam,"id",e)},expression:"queryParam.id"}})],1)],1)]:t._e(),n("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){e.queryParam={},e.vData={name:""}}}},[t._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v(" "+t._s(t.advanced?"收起":"展开")+" "),n("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),n("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",scroll:{x:!0},columns:t.columns,data:t.loadData,showPagination:"auto"},scopedSlots:t._u([{key:"type",fn:function(e){return n("span",{},[t._v(" "+t._s(t.getCouponType(e))+" ")])}},{key:"amt",fn:function(e){return n("span",{},[t._v(" ¥"+t._s(parseFloat((e/100).toString()).toFixed(2))+" ")])}},{key:"status",fn:function(e){return n("span",{},[t._v(" "+t._s(t.getCouponStatus(e))+" ")])}},{key:"useStatus",fn:function(e,a){return n("span",{},[t._v(" "+t._s(a.drawNum)+"/"+t._s(a.useNum)+"/"+t._s(a.grantNum)+" ")])}},{key:"time",fn:function(e,a){return n("span",{},[t._v(" "+t._s(a.startTime)+"-"+t._s(a.endTime)+" ")])}},{key:"action",fn:function(e,a){return n("span",{},[[n("a",{on:{click:function(){t.$emit("ok",a)}}},[t._v("选择")])]],2)}}])}),n("select-v",{attrs:{visible:t.visible},on:{cancel:t.handleSelectVCancel,ok:t.handleSelectVOk}}),n("coupon-use-data",{attrs:{visible:t.couponUseVisible,"c-id":t.cId},on:{cancel:t.handleCouponUseCancel,ok:t.handleCouponUseOk}})],1)],1)},b=[],y=a("a754"),w=a("a5a9"),x=a("ca00"),C=[{title:"券id",dataIndex:"id"},{title:"券名称",dataIndex:"name"},{title:"券类型",dataIndex:"type",scopedSlots:{customRender:"type"}},{title:"所属大V",dataIndex:"vName"},{title:"券面额",scopedSlots:{customRender:"amt"},dataIndex:"amt"},{title:"状态",scopedSlots:{customRender:"status"},dataIndex:"status"},{title:"发放数/已使用/总数",scopedSlots:{customRender:"useStatus"}},{title:"有效期",scopedSlots:{customRender:"time"}},{title:"创建人",dataIndex:"createUserName"},{title:"创建时间",dataIndex:"createTime"},{title:"操作",dataIndex:"action",width:"150px",fixed:"right",scopedSlots:{customRender:"action"}}],S={name:"SelectCoupon",props:{couponVisible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{STable:o["c"],Ellipsis:o["b"],SelectV:y["a"],CouponUseData:w["a"]},data:function(){var e=this;return this.columns=C,this.couponConfig=l["e"],{visible:!1,couponUseVisible:!1,cId:"",mdl:null,advanced:!1,vData:{name:""},queryParam:{},loadData:function(t){var a=Object.assign({vid:e.id},t,e.queryParam);return Object(s["M"])(a).then((function(e){return Object(r["a"])(Object(r["a"])({},e.data),{},{page:a.page})}))}}},methods:{selectVData:function(e){e.preventDefault(),this.visible=!0},handleSelectVCancel:function(){this.visible=!1},handleSelectVOk:function(e){this.visible=!1,null!==e&&void 0!==e&&""!==e&&(this.vData=e,this.queryParam.vId=e.id)},getCouponType:function(e){return Object(x["f"])(e)},getCouponStatus:function(e){return Object(x["e"])(e)},getCouponActionStatus:function(e){return e===l["e"].couponStatus.deactivate?"启用":"停用"},showDetail:function(e){},showData:function(e){this.cId=e.id,this.couponUseVisible=!0},action:function(e){var t=this;e.status===l["e"].couponStatus.deactivate?Object(s["z"])(e.id).then((function(e){t.$refs.table.loadData()})):Object(s["rb"])(e.id).then((function(e){t.$refs.table.loadData()}))},handleCouponUseCancel:function(){this.couponUseVisible=!1},handleCouponUseOk:function(){this.couponUseVisible=!1},toggleAdvanced:function(){this.advanced=!this.advanced}}},_=S,I=(a("16a2"),a("2877")),k=Object(I["a"])(_,h,b,!1,null,null,null),V=k.exports,P=0;function O(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var N={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},name:"VUserEdit",components:{SelectCoupon:V},data:function(){return this.vUserConfig=l["n"],this.giftPosition=0,{couponVisible:!1,map:new Map,wwxCode:"",wwxCodeUrl:"",loading:!1,wwxLoading:!1,avatar:"",avatarUrl:"",name:"",phone:"",des:"",city:"",token:f.a.get(m["a"]),promotionPurchaseService:0,promotionPurchaseCourse:0,promotionRealProduct:0,platformPurchaseService:0,platformPurchaseCourse:0,platformRealProduct:0,signSettingSwitch:!1,giftName:"",giftDes:""}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"dynamic_form_item"}),this.form.getFieldDecorator("keys",{initialValue:[],preserve:!0})},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){var n,i,o,d,u,m,p,f,g,h,b,y,w;if(a.avatar.file)if(200!==(null===(b=a.avatar)||void 0===b||null===(y=b.file)||void 0===y||null===(w=y.response)||void 0===w?void 0:w.code))return void v.a.error({message:"图片上传失败, 请重新上传"});var x={id:t.id,des:a.des?a.des.split(","):[],avatar:null!==(n=a.avatar)&&void 0!==n&&n.file?null===(i=a.avatar)||void 0===i||null===(o=i.file)||void 0===o||null===(d=o.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.key:a.avatar,name:a.name,phone:a.phone,city:a.city,wwxCodeUrl:null!==(m=a.wwxCodeUrl)&&void 0!==m&&m.file?null===(p=a.wwxCodeUrl)||void 0===p||null===(f=p.file)||void 0===f||null===(g=f.response)||void 0===g||null===(h=g.data)||void 0===h?void 0:h.key:a.wwxCodeUrl,signSettingSwitch:a.signSettingSwitch?l["n"].signSettingSwitchConfig.open:l["n"].signSettingSwitchConfig.close,promotionCommission:{purchaseService:a.promotionPurchaseService,purchaseCourse:a.promotionPurchaseCourse,realProduct:a.promotionRealProduct},platformCommission:{purchaseService:a.platformPurchaseService,purchaseCourse:a.platformPurchaseCourse,realProduct:a.platformRealProduct}};if(a.signSettingSwitch){var C=[];a.keys&&a.keys.map((function(e){C=[].concat(Object(c["a"])(C),[{type:a.types[e],giftName:a.giftNames[e],giftNum:a.giftNums[e],couponId:a.couponIds[e],couponName:t.map.get("couponNames".concat(e)),couponPrice:t.map.get("couponPrices".concat(e))}])})),x=Object(r["a"])(Object(r["a"])({},x),{},{giftName:a.giftName,giftDes:a.giftDes,gifts:C})}Object(s["x"])(x).then((function(e){t.$emit("ok")}))}}))},handleChange:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&O(e.file.originFileObj,(function(e){t.avatarUrl=e,t.loading=!1})):this.loading=!0},remove:function(e){var t=this.form,a=t.getFieldValue("keys");t.setFieldsValue({keys:a.filter((function(t){return t!==e}))})},add:function(){var e=this.form,t=e.getFieldValue("keys"),a=t.concat(P++);e.setFieldsValue({keys:a})},getUploadPic:function(){return Object(x["s"])()},handleSelectCouponCancel:function(){this.couponVisible=!1},handleSelectCouponOk:function(e){this.couponVisible=!1,null!==e&&void 0!==e&&""!==e&&(this.map=new Map(this.map.set("couponIds".concat(this.giftPosition),e.id)),this.map=new Map(this.map.set("couponNames".concat(this.giftPosition),e.name)),this.map=new Map(this.map.set("couponPrices".concat(this.giftPosition),e.amt)),this.form.getFieldDecorator("couponIds[".concat(this.giftPosition,"]"),{initialValue:e.id,preserve:!0}))},handleWWXChange:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&O(e.file.originFileObj,(function(e){t.wwxCodeUrl=e,t.wwxLoading=!1})):this.wwxLoading=!0},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("You can only upload JPG file!"),t},getData:function(e){return{file:e}},selectGiftCoupon:function(e){this.giftPosition=e,this.couponVisible=!0}},created:function(){var e=this;Object(s["R"])(this.id).then((function(t){var a,n,i,r,o,s,d=t.data;if(e.name=d.name,e.phone=d.phone,e.city=d.city,e.avatar=null!==(a=d.avatar.key)&&void 0!==a?a:"",e.avatarUrl=null!==(n=d.avatar.url)&&void 0!==n?n:"",e.des=d.des,e.wwxCodeUrl=null!==(i=null===(r=d.wwxCodeUrl)||void 0===r?void 0:r.url)&&void 0!==i?i:"",e.wwxCode=null!==(o=null===(s=d.wwxCodeUrl)||void 0===s?void 0:s.key)&&void 0!==o?o:"",e.promotionPurchaseService=d.promotionCommission.purchaseService,e.promotionPurchaseCourse=d.promotionCommission.purchaseCourse,e.promotionRealProduct=d.promotionCommission.realProduct,e.platformPurchaseService=d.platformCommission.purchaseService,e.platformPurchaseCourse=d.platformCommission.purchaseCourse,e.platformRealProduct=d.platformCommission.realProduct,e.signSettingSwitch=d.signSettingSwitch===l["n"].signSettingSwitchConfig.open,e.form.setFieldsValue({signSettingSwitch:e.signSettingSwitch}),e.signSettingSwitch&&(e.giftName=d.giftName,e.giftDes=d.giftDes,d.gifts.length>0)){var u=0;d.gifts.map((function(t,a){var n=e.form,i=n.getFieldValue("keys"),r=i.concat(u++);n.setFieldsValue({keys:r}),P=u,e.map=new Map(e.map.set("couponIds".concat(a),t.couponId)),e.map=new Map(e.map.set("couponNames".concat(a),t.couponName)),e.map=new Map(e.map.set("couponPrices".concat(a),t.couponPrice)),n.getFieldDecorator("couponIds[".concat(a,"]"),{initialValue:t.couponId,preserve:!0}),n.getFieldDecorator("giftNames[".concat(a,"]"),{initialValue:t.giftName,preserve:!0}),n.getFieldDecorator("giftNums[".concat(a,"]"),{initialValue:t.giftNum,preserve:!0}),n.getFieldDecorator("types[".concat(a,"]"),{initialValue:0,preserve:!0})}))}}))}},q=N,U=(a("5759"),Object(I["a"])(q,d,u,!1,null,"753fd73a",null)),j=U.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"大V商铺管理",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[a("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"店铺信息"}},[a("shop-info",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"2",attrs:{tab:"头部广告信息"}},[a("banner-info",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"3",attrs:{tab:"Icon信息"}},[a("icon-info",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"4",attrs:{tab:"推荐商品"}},[a("product-recommend",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"5",attrs:{tab:"购房讲堂"}},[a("product-course",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"6",attrs:{tab:"购房服务"}},[a("product-service",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"7",attrs:{tab:"原创内容"}},[a("content-info",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"8",attrs:{tab:"小工具设置"}},[a("setting-info",{attrs:{id:this.id}})],1)],1)],1)},F=[],$=a("d30a"),D=a("b06c"),R=a("230b"),M=a("d70c"),B=a("175b"),E=a("4d23"),L=a("0edf"),z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"昵称",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入昵称"}],initialValue:e.data.name}],expression:"[\n        'name',\n        {rules: [{ required: true, message: '请输入昵称' }], initialValue: data.name}\n      ]"}],attrs:{name:"name",placeholder:"昵称"}})],1),a("a-form-item",{staticClass:"avatar-uploader-container",attrs:{label:"头像",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["avatar",{rules:[{required:!0,message:"请选择头像"}],initialValue:e.avatar}],expression:"[\n        'avatar',\n        {rules: [{ required: true, message: '请选择头像' }], initialValue: avatar}\n      ]"}],attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,action:e.getUploadPic,data:e.getData,headers:{Authorization:"Bearer "+e.token},"before-upload":e.beforeUpload},on:{change:e.handleChange}},[e.avatarUrl?a("img",{staticClass:"avatar",attrs:{src:e.avatarUrl,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" 上传 ")])],1)]),a("span",{staticStyle:{color:"grey","line-height":"20px","font-size":"10px"}},[e._v("图片建议尺寸200*200px")])],1),a("a-form-item",{staticClass:"avatar-uploader-container",attrs:{label:"头图",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["headImg",{rules:[{required:!0,message:"请选择头图"}],initialValue:e.headImg}],expression:"[\n        'headImg',\n        {rules: [{ required: true, message: '请选择头图' }], initialValue: headImg}\n      ]"}],attrs:{"list-type":"picture-card","show-upload-list":!1,action:e.getUploadPic,data:e.getData,headers:{Authorization:"Bearer "+e.token},"before-upload":e.beforeUpload},on:{change:e.handleHeadImgChange}},[e.headImgUrl?a("img",{staticClass:"avatar",attrs:{src:e.headImgUrl,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.headImgLoading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" 上传 ")])],1)]),a("span",{staticStyle:{color:"grey","line-height":"20px","font-size":"10px"}},[e._v("图片建议尺寸750px")])],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))])],1)],1)},A=[];function K(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var W={props:{id:{type:String,required:!0}},data:function(){return this.vUserConfig=l["n"],{form:this.$form.createForm(this),data:{},headImg:"",headImgUrl:"",loading:!1,headImgLoading:!1,token:f.a.get(m["a"]),avatar:"",avatarUrl:""}},methods:{beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("You can only upload JPG file!"),t},getData:function(e){return{file:e}},handleHeadImgChange:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&K(e.file.originFileObj,(function(e){t.headImgUrl=e,t.headImgLoading=!1})):this.headImgLoading=!0},handleChange:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&K(e.file.originFileObj,(function(e){t.avatarUrl=e,t.loading=!1})):this.loading=!0},getUploadPic:function(){return Object(x["s"])()},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){var n,i,o,l,d,u,c,m,p,f;e||(a=Object(r["a"])(Object(r["a"])({},a),{},{avatar:{key:null!==(n=a.avatar)&&void 0!==n&&n.file?null===(i=a.avatar)||void 0===i||null===(o=i.file)||void 0===o||null===(l=o.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.key:a.avatar},headImg:{key:null!==(u=a.headImg)&&void 0!==u&&u.file?null===(c=a.headImg)||void 0===c||null===(m=c.file)||void 0===m||null===(p=m.response)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.key:a.headImg}}),Object(s["nb"])(Object(r["a"])(Object(r["a"])({},a),{},{vid:t.id})).then((function(e){t.$notification.success({message:"修改成功"})})))}))}},created:function(){var e=this;Object(s["fb"])({vid:this.id}).then((function(t){var a,n,i,r,o,s,l,d,u,c,m,p,f;e.data=null!==(a=t.data)&&void 0!==a?a:{},e.avatar=null!==(n=null===(i=e.data)||void 0===i||null===(r=i.avatar)||void 0===r?void 0:r.key)&&void 0!==n?n:"",e.avatarUrl=null!==(o=null===(s=e.data)||void 0===s||null===(l=s.avatar)||void 0===l?void 0:l.url)&&void 0!==o?o:"",e.headImgUrl=null!==(d=null===(u=e.data)||void 0===u||null===(c=u.headImg)||void 0===c?void 0:c.url)&&void 0!==d?d:"",e.headImg=null!==(m=null===(p=e.data)||void 0===p||null===(f=p.headImg)||void 0===f?void 0:f.key)&&void 0!==m?m:""}))}},G=W,J=(a("e776"),Object(I["a"])(G,z,A,!1,null,"72fbb3e9",null)),H=J.exports,X={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{ShopInfo:$["a"],BannerInfo:D["a"],IconInfo:R["a"],ProductRecommend:M["a"],ProductCourse:B["a"],ProductService:E["a"],ContentInfo:L["a"],SettingInfo:H},methods:{},created:function(){}},Y=X,Z=(a("df91"),Object(I["a"])(Y,T,F,!1,null,null,null)),Q=Z.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"大V统计",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("div",{staticStyle:{background:"#f7f7f7"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"客户总数",total:e.customTotalNum+"人"}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"线上咨询客户数",total:e.customOnlineTotalNum+"人"}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"线下带看客户数",total:e.customOfflineTotalNum+"人"}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"已成交客户数",total:e.customCompleteTotalNum+"人"}})],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"已获取佣金总数",total:"¥"+(parseFloat(""+(e.grantedMoney?e.grantedMoney:"0"))/100).toFixed(2)+"元"}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"即将获取的佣金",total:"¥"+(parseFloat(""+(e.grantingMoney?e.grantingMoney:"0"))/100).toFixed(2)+"元"}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"可以提现的佣金",total:"¥"+(parseFloat(""+(e.withdrawMoney?e.withdrawMoney:"0"))/100).toFixed(2)+"元"}})],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"购房服务商品总数",total:""+e.purchaseServiceTotalNum}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"购房服务商品已售订单数",total:""+e.purchaseServiceOrderTotalNum}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"购房讲堂商品总数",total:""+e.purchaseCourseTotalNum}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"购房讲堂商品已售订单数",total:""+e.purchaseCourseOrderTotalNum}})],1)],1)],1),a("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[a("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[a("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"客户列表"}},[a("v-user-custom",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"2",attrs:{loading:"true",tab:"订单列表"}},[a("v-user-order",{attrs:{id:this.id}})],1),a("a-tab-pane",{key:"3",attrs:{loading:"true",tab:"佣金列表"}},[a("v-user-commission",{attrs:{id:this.id}})],1)],1)],1)],1)},te=[],ae=a("2c39"),ne=a("6238"),ie=a("fe80"),re={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{ChartCard:o["a"],VUserCustom:ae["a"],VUserOrder:ne["a"],VUserCommission:ie["a"]},data:function(){return{loading:!0,customTotalNum:0,customOnlineTotalNum:0,customOfflineTotalNum:0,customCompleteTotalNum:0,grantedMoney:0,grantingMoney:0,withdrawMoney:0,purchaseServiceTotalNum:0,purchaseServiceOrderTotalNum:0,purchaseCourseTotalNum:0,purchaseCourseOrderTotalNum:0}},methods:{},created:function(){var e=this;Object(s["db"])(this.id).then((function(t){var a,n,i,r,o,s,l,d,u,c,m,p,f,g,v,h,b,y,w,x,C,S;e.loading=!1,e.customTotalNum=null!==(a=null===(n=t.data)||void 0===n?void 0:n.customTotalNum)&&void 0!==a?a:0,e.customOnlineTotalNum=null!==(i=null===(r=t.data)||void 0===r?void 0:r.customOnlineTotalNum)&&void 0!==i?i:0,e.customOfflineTotalNum=null!==(o=null===(s=t.data)||void 0===s?void 0:s.customOfflineTotalNum)&&void 0!==o?o:0,e.customCompleteTotalNum=null!==(l=null===(d=t.data)||void 0===d?void 0:d.customCompleteTotalNum)&&void 0!==l?l:0,e.grantedMoney=null!==(u=null===(c=t.data)||void 0===c?void 0:c.grantedMoney)&&void 0!==u?u:0,e.grantingMoney=null!==(m=null===(p=t.data)||void 0===p?void 0:p.grantingMoney)&&void 0!==m?m:0,e.withdrawMoney=null!==(f=null===(g=t.data)||void 0===g?void 0:g.withdrawMoney)&&void 0!==f?f:0,e.purchaseServiceTotalNum=null!==(v=null===(h=t.data)||void 0===h?void 0:h.purchaseServiceTotalNum)&&void 0!==v?v:0,e.purchaseServiceOrderTotalNum=null!==(b=null===(y=t.data)||void 0===y?void 0:y.purchaseServiceOrderTotalNum)&&void 0!==b?b:0,e.purchaseCourseTotalNum=null!==(w=null===(x=t.data)||void 0===x?void 0:x.purchaseCourseTotalNum)&&void 0!==w?w:0,e.purchaseCourseOrderTotalNum=null!==(C=null===(S=t.data)||void 0===S?void 0:S.purchaseCourseOrderTotalNum)&&void 0!==C?C:0}))}},oe=re,se=(a("5036"),Object(I["a"])(oe,ee,te,!1,null,"131fbb74",null)),le=se.exports,de=a("8f34"),ue=a("411c"),ce=a.n(ue),me=[{title:"大V ID",dataIndex:"vId"},{title:"大V姓名",dataIndex:"name"},{title:"大V登录名",dataIndex:"username"},{title:"手机号码",dataIndex:"phone"},{title:"简介",dataIndex:"desc",width:"200px",scopedSlots:{customRender:"desc"}},{title:"头像",dataIndex:"avatar",scopedSlots:{customRender:"avatar"}},{title:"小程序推广链接",width:"200px",scopedSlots:{customRender:"miniprogramUrl"},dataIndex:"miniprogramUrl"},{title:"企业微信推广链接",dataIndex:"wwxUrl",width:"200px",scopedSlots:{customRender:"wwxUrl"}},{title:"总客户数",dataIndex:"customTotalNum",scopedSlots:{customRender:"customTotalNum"}},{title:"跟进客户数",dataIndex:"customFollowNum"},{title:"成交客户数",dataIndex:"customCompleteNum"},{title:"佣金总数",dataIndex:"totalMoney",scopedSlots:{customRender:"totalMoney"}},{title:"已提现佣金",dataIndex:"grantedMoney",scopedSlots:{customRender:"grantedMoney"}},{title:"待提现佣金",dataIndex:"withdrawMoney",scopedSlots:{customRender:"withdrawMoney"}},{title:"操作",dataIndex:"action",width:"150px",fixed:"right",scopedSlots:{customRender:"action"}}],pe={name:"VUserList",components:{STable:o["c"],Ellipsis:o["b"],VUserEdit:j,VUserManage:Q,Statistics:le,ModifyManagerPassword:de["a"]},data:function(){var e=this;return this.columns=me,{visible:!1,manageVisible:!1,statisticsVisible:!1,mdl:null,queryParam:{},id:"",modifyVisible:!1,vId:"",loadData:function(t){var a=Object.assign({},t,e.queryParam);return Object(s["eb"])(a).then((function(e){return Object(r["a"])(Object(r["a"])({},e.data),{},{page:a.page})}))}}},methods:{handleAdd:function(){this.$router.push("/v-user/create-v-user")},edit:function(e){this.vId=e.vId.toString(),this.visible=!0},handleModifyCancel:function(){this.modifyVisible=!1},handleModifyOk:function(){this.modifyVisible=!1},handleVUserEditCancel:function(){this.visible=!1},handleVUserEditOk:function(){this.visible=!1,this.$refs.table.loadData()},handleVUserManageCancel:function(){this.manageVisible=!1},handleVUserManageOk:function(){this.manageVisible=!1,this.$refs.table.loadData()},handleStatisticsCancel:function(){this.statisticsVisible=!1},handleStatisticsOk:function(){this.statisticsVisible=!1},deleteVUser:function(e){var t=this;this.$confirm({title:"确定要删除该大V吗?",content:"删除后无法复原,请谨慎",okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){Object(s["s"])(e.vId).then((function(e){t.$notification.success({message:"删除成功"}),t.$refs.table.loadData()}))}})},manager:function(e){this.vId=e.vId.toString(),this.manageVisible=!0},statistics:function(e){this.vId=e.vId.toString(),this.statisticsVisible=!0},modifyPassword:function(e){this.id=e.adminId,this.modifyVisible=!0},getColor:function(){return l["l"][ce.a.mock("@integer(0, 6)")]}}},fe=pe,ge=(a("5e56"),Object(I["a"])(fe,n,i,!1,null,null,null));t["default"]=ge.exports},4501:function(e,t,a){},5036:function(e,t,a){"use strict";a("d13b")},5759:function(e,t,a){"use strict";a("b048")},"5e56":function(e,t,a){"use strict";a("7d21")},6238:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,scroll:{x:1300},data:e.loadData,showPagination:"auto"},scopedSlots:e._u([{key:"type",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getProductType(t))+" ")])}},{key:"realPrice",fn:function(t){return a("span",{},[e._v(" ¥"+e._s(parseFloat((t/100).toString()).toFixed(2))+" ")])}},{key:"status",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getOrderStatus(t))+" ")])}},{key:"promotionCommission",fn:function(t){return a("span",{},[e._v(" ¥"+e._s(t?(parseInt(t.toString())/100).toFixed(2):"0.00")+" ")])}},{key:"platformCommission",fn:function(t){return a("span",{},[e._v(" ¥"+e._s(t?(parseInt(t.toString())/100).toFixed(2):"0.00")+" ")])}},{key:"totalMoney",fn:function(t,n){return a("span",{},[e._v(" ¥"+e._s(n.price?(parseFloat(n.price.toString())/100).toFixed(2):"0.00")+"*"+e._s(n.num?n.num:"0")+" ")])}},{key:"address",fn:function(t,n){return a("span",{},[e._v(" "+e._s((n.province?n.province:"")+" "+(n.city?n.city:"")+" "+(n.area?n.area:"")+" "+(t||""))+" ")])}}])})],1)},i=[],r=a("2af9"),o=a("0fea"),s=a("ca00"),l=[{title:"订单id",dataIndex:"id",width:"100px"},{title:"商品名称",dataIndex:"name",width:"120px"},{title:"商品类型",dataIndex:"type",scopedSlots:{customRender:"type"}},{title:"商品单价*数量",dataIndex:"totalMoney",scopedSlots:{customRender:"totalMoney"}},{title:"商品金额",dataIndex:"realPrice",scopedSlots:{customRender:"realPrice"}},{title:"推广大V",dataIndex:"vname",width:"100px"},{title:"收货地址",scopedSlots:{customRender:"address"},dataIndex:"address",width:"130px"},{title:"下单人",dataIndex:"purchaseUsername",width:"80px"},{title:"下单手机号",dataIndex:"purchasePhone"},{title:"下单时间",dataIndex:"createTime"},{title:"支付时间",dataIndex:"payTime"},{title:"平台佣金",dataIndex:"pcPrice",scopedSlots:{customRender:"platformCommission"}},{title:"推广佣金",dataIndex:"tgPrice",scopedSlots:{customRender:"promotionCommission"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}}],d={name:"VUserOrderList",props:{id:{type:String,required:!0}},components:{STable:r["c"],Ellipsis:r["b"]},data:function(){var e=this;return this.columns=l,{cId:"",mdl:null,queryParam:{},loadData:function(t){var a=Object.assign({vId:e.id},t,e.queryParam);return Object(o["Z"])(a).then((function(e){return{data:e.data.list,page:a.page,total:e.data.total}}))},data:{}}},methods:{getProductType:function(e){return Object(s["o"])(e)},getOrderStatus:function(e){return Object(s["m"])(e)}}},u=d,c=(a("6bd3"),a("2877")),m=Object(c["a"])(u,n,i,!1,null,null,null);t["a"]=m.exports},"64a3":function(e,t,a){},"6bd3":function(e,t,a){"use strict";a("f0b5")},"7d21":function(e,t,a){},"8f34":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"修改密码",width:1200,visible:e.visible,footer:null,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[a("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"新密码",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入新密码"}]}],expression:"[\n            'password',\n            {rules: [{ required: true, message: '请输入新密码' }]}\n          ]"}],attrs:{placeholder:"新密码"}})],1),a("a-form-item",{attrs:{label:"确认密码",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["repeatPassword",{rules:[{required:!0,message:"请输入确认密码"}]}],expression:"[\n            'repeatPassword',\n            {rules: [{ required: true, message: '请输入确认密码' }]}\n          ]"}],attrs:{placeholder:"确认密码"}})],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))])],1)],1)],1)],1)},i=[],r=a("5530"),o=a("0fea"),s={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){if(a.password!==a.repeatPassword)return void t.$notification.error({message:"两次输入的密码不一致"});Object(o["jb"])(Object(r["a"])(Object(r["a"])({},a),{},{id:t.id})).then((function(e){t.$notification.success({message:"密码修改成功"}),t.$emit("ok")}))}}))}}},l=s,d=a("2877"),u=Object(d["a"])(l,n,i,!1,null,"f210d3f2",null);t["a"]=u.exports},a5a9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"领用数据",width:1200,visible:e.visible,destroyOnClose:""},on:{ok:function(){e.$emit("ok")},cancel:function(){e.$emit("cancel")}}},[this.json_data.length>0?a("div",{staticClass:"table-operator"},[a("download-excel",{attrs:{data:e.json_data,fields:e.json_fields,type:"csv",worksheet:"My Worksheet",name:"优惠券领取.xls"}},[a("a-button",{attrs:{type:"primary"}},[e._v("导出")])],1)],1):e._e(),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,data:e.loadData,showPagination:"auto"},scopedSlots:e._u([{key:"isUse",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getUseStatus(t))+" ")])}}])})],1)},i=[],r=a("5530"),o=a("2af9"),s=a("0fea"),l=a("ca00"),d=[{title:"用户 id",dataIndex:"userId"},{title:"用户姓名",dataIndex:"name"},{title:"联系方式",dataIndex:"phone"},{title:"领取时间",dataIndex:"drawTime"},{title:"是否使用",dataIndex:"isUse",scopedSlots:{customRender:"isUse"}},{title:"使用时间",dataIndex:"useTime"}],u={props:{visible:{type:Boolean,required:!0},cId:{type:String,required:!0}},components:{STable:o["c"]},data:function(){var e=this;return this.columns=d,{queryParam:{},json_fields:{"用户 id":"userId","用户姓名":"name","联系方式":"phone","领取时间":"drawTime","是否使用":{field:"isUse",callback:function(e){return Object(l["g"])(e)}},"使用时间":"useTime"},json_data:[],loadData:function(t){var a=Object.assign({},t,{id:e.cId});return Object(s["O"])(a).then((function(e){return Object(r["a"])(Object(r["a"])({},e.data),{},{page:a.page})}))}}},methods:{exportData:function(){},getUseStatus:function(e){return Object(l["g"])(e)}},created:function(){var e=this;Object(s["N"])({id:this.cId}).then((function(t){e.json_data=t.data}))}},c=u,m=a("2877"),p=Object(m["a"])(c,n,i,!1,null,null,null);t["a"]=p.exports},b048:function(e,t,a){},b824:function(e,t,a){},d13b:function(e,t,a){},daa8:function(e,t,a){},df91:function(e,t,a){"use strict";a("b824")},e776:function(e,t,a){"use strict";a("0042")},f0b5:function(e,t,a){},fe80:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",scroll:{x:1300},columns:e.columns,data:e.loadData,showPagination:"auto"},scopedSlots:e._u([{key:"orderPrice",fn:function(t){return a("span",{},[e._v(" ¥"+e._s(t?(parseInt(t.toString())/100).toFixed(2):"0.00")+" ")])}},{key:"commissionPrice",fn:function(t){return a("span",{},[e._v(" ¥"+e._s(t?(parseInt(t.toString())/100).toFixed(2):"0.00")+" ")])}},{key:"commissionType",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getCommissionType(t))+" ")])}},{key:"status",fn:function(t){return a("span",{},[e._v(" "+e._s(e.getCommissionStatus(t))+" ")])}}])})],1)},i=[],r=a("2af9"),o=a("0fea"),s=a("ca00"),l=[{title:"佣金id",dataIndex:"id"},{title:"下单人id",dataIndex:"uid"},{title:"下单人手机号",dataIndex:"phone"},{title:"下单人姓名",dataIndex:"username"},{title:"商品 id",dataIndex:"pid"},{title:"订单 id",dataIndex:"oid"},{title:"支付时间",dataIndex:"payTime"},{title:"订单金额",dataIndex:"orderPrice",scopedSlots:{customRender:"orderPrice"}},{title:"佣金金额",dataIndex:"commissionPrice",scopedSlots:{customRender:"commissionPrice"}},{title:"佣金类型",dataIndex:"commissionType",scopedSlots:{customRender:"commissionType"}},{title:"所属大V",dataIndex:"vname"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}}],d={name:"VUserCommissionList",props:{id:{type:String,required:!0}},components:{STable:r["c"],Ellipsis:r["b"]},data:function(){var e=this;return this.columns=l,{cId:"",mdl:null,queryParam:{},loadData:function(t){var a=Object.assign({vId:e.id},t,e.queryParam);return Object(o["I"])(a).then((function(e){return{data:e.data.data,page:a.page,total:e.data.total}}))},data:{}}},methods:{getCommissionType:function(e){return Object(s["c"])(e)},getCommissionStatus:function(e){return Object(s["b"])(e)}}},u=d,c=(a("28eb"),a("2877")),m=Object(c["a"])(u,n,i,!1,null,null,null);t["a"]=m.exports}}]);