(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8136c6c"],{"0edf":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{staticStyle:{margin:"40px auto 0"},attrs:{form:e.form}},[e._l(e.form.getFieldValue("keys"),(function(t,i){return a("div",{key:t},[a("a-divider",{staticStyle:{"margin-bottom":"20px"}},[e._v(e._s("内容"+(i+1)))]),a("a-form-item",{staticClass:"avatar-uploader-container",attrs:{label:"内容 "+(i+1)+"封面",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["pics["+t+"]",{rules:[{required:!0,message:"请输入内容"+(i+1)+"封面"}]}],expression:"[\n              `pics[${k}]`,\n              {rules: [{ required: true, message: `请输入内容${index+1}封面` }]}\n            ]"}],staticClass:"avatar-uploader",attrs:{"list-type":"picture-card","show-upload-list":!1,action:e.getUploadPic,data:e.getData,headers:{Authorization:"Bearer "+e.token},"before-upload":e.beforeUpload},on:{change:function(a){return e.handleChange(a,t)}}},[e.map.get("pic"+t)?a("img",{staticClass:"activity-pic",attrs:{src:e.map.get("pic"+t),alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.map.get("loading"+t)?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" 上传 ")])],1)])],1),a("a-col",[a("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o"},on:{click:function(){return e.remove(t)}}})],1)],1),a("span",{staticStyle:{color:"grey","line-height":"20px","font-size":"10px"}},[e._v("图片建议尺寸240*160px")])],1),a("a-form-item",{attrs:{label:"内容"+(i+1)+"标题",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["titles["+t+"]",{rules:[{required:!0,message:"请输入内容"+(i+1)+"标题"}]}],expression:"[\n          `titles[${k}]`,\n          {rules: [{ required: true, message: `请输入内容${index+1}标题` }]}\n        ]"}],attrs:{name:"name",placeholder:"内容"+(i+1)+"标题"}})],1),a("a-form-item",{attrs:{label:"内容"+(i+1)+"视频号ID",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["finderUserNames["+t+"]",{rules:[{required:!0,message:"请输入内容"+(i+1)+"视频号ID"}]}],expression:"[\n          `finderUserNames[${k}]`,\n          {rules: [{ required: true, message: `请输入内容${index+1}视频号ID` }]}\n        ]"}],attrs:{name:"name",placeholder:"内容"+(i+1)+"视频号ID"}})],1),a("a-form-item",{attrs:{label:"内容"+(i+1)+"FeedID",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["feedIds["+t+"]",{rules:[{required:!0,message:"请输入内容"+(i+1)+"FeedID"}]}],expression:"[\n          `feedIds[${k}]`,\n          {rules: [{ required: true, message: `请输入内容${index+1}FeedID` }]}\n        ]"}],attrs:{name:"name",placeholder:"内容"+(i+1)+"FeedID"}})],1),a("a-form-item",{attrs:{label:"点赞数",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["likeNums["+t+"]",{rules:[{required:!0,message:"请输入内容"+(i+1)+"点赞数"}]}],expression:"[\n          `likeNums[${k}]`,\n          {rules: [{ required: true, message: `请输入内容${index+1}点赞数` }]}\n        ]"}],attrs:{placeholder:"内容"+(i+1)+"点赞数",min:0}})],1),a("a-form-item",{attrs:{label:"虚拟浏览量",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["virtualPVNums["+t+"]",{rules:[{required:!0,message:"请输入内容"+(i+1)+"虚拟浏览量"}]}],expression:"[\n          `virtualPVNums[${k}]`,\n          {rules: [{ required: true, message: `请输入内容${index+1}虚拟浏览量` }]}\n        ]"}],attrs:{placeholder:"内容"+(i+1)+"虚拟浏览量",min:0}})],1)],1)})),a("a-form-item",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.add}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增内容 ")],1)],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],2)},r=[],n=a("2909"),s=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("99af"),a("4de4"),a("a078")),o=a("0fea"),l=a("8ded"),c=a.n(l),d=a("9fb0"),u=a("ca00"),p=0;function m(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var f={props:{id:{type:String,required:!0}},components:{},data:function(){return this.vUserConfig=s["n"],this.position=0,{data:{},map:new Map,token:c.a.get(d["a"])}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"dynamic_form_item"}),this.form.getFieldDecorator("keys",{initialValue:[],preserve:!0})},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e&&a.keys){var i=[];a.keys.map((function(e){var r,s,o;i=[].concat(Object(n["a"])(i),[{vId:t.id,pic:a.pics[e].file?null===(r=a.pics[e].file)||void 0===r||null===(s=r.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.key:a.pics[e],likeNum:a.likeNums[e],virtualPVNum:a.virtualPVNums[e],title:a.titles[e],feedId:a.feedIds[e],finderUserName:a.finderUserNames[e]}])})),Object(o["e"])({vid:t.id,data:i}).then((function(e){t.$notification.success({message:"原创内容修改成功"})}))}}))},remove:function(e){var t=this.form,a=t.getFieldValue("keys");t.setFieldsValue({keys:a.filter((function(t){return t!==e}))})},add:function(){var e=this.form,t=e.getFieldValue("keys"),a=t.concat(p++);e.setFieldsValue({keys:a})},handleChange:function(e,t){var a=this;"uploading"!==e.file.status?"done"===e.file.status&&m(e.file.originFileObj,(function(e){a.map=new Map(a.map.set("pic".concat(t),e)),a.map=new Map(a.map.set("loading".concat(t),!1))})):this.map=new Map(this.map.set("loading".concat(t),!0))},getUploadPic:function(){return Object(u["s"])()},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("You can only upload JPG file!"),t},getData:function(e){return{file:e}}},created:function(){var e=this;Object(o["K"])(this.id).then((function(t){if(e.data=t.data.data,e.data.length>0){var a=0;e.data.map((function(t,i){var r=e.form,n=r.getFieldValue("keys"),s=n.concat(a++);r.setFieldsValue({keys:s}),p=a;var o=new Map;o.set("pics[".concat(i,"]"),t.pic),r.getFieldDecorator("pics[".concat(i,"]"),{initialValue:t.pic.key,preserve:!0}),r.getFieldDecorator("titles[".concat(i,"]"),{initialValue:t.title,preserve:!0}),r.getFieldDecorator("feedIds[".concat(i,"]"),{initialValue:t.feedId,preserve:!0}),r.getFieldDecorator("likeNums[".concat(i,"]"),{initialValue:t.likeNum,preserve:!0}),r.getFieldDecorator("virtualPVNums[".concat(i,"]"),{initialValue:t.virtualPVNum,preserve:!0}),r.getFieldDecorator("finderUserNames[".concat(i,"]"),{initialValue:t.finderUserName,preserve:!0}),e.map=new Map(e.map.set("pic".concat(i),t.pic.url))}))}}))}},g=f,v=(a("d1b1"),a("2877")),h=Object(v["a"])(g,i,r,!1,null,"2ada5a7d",null);t["a"]=h.exports},"16cd":function(e,t,a){"use strict";a("34c9")},"175b":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{staticStyle:{margin:"40px auto 0"},attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"是否展示",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isShow",{rules:[{required:!0,message:"选择是否展示"}],initialValue:this.data.isShow}],expression:"['isShow', {rules: [{ required: true, message: `选择是否展示` }], initialValue: this.data.isShow}]"}]},[a("a-radio",{attrs:{value:e.vUserConfig.productShowConfig.isShow}},[e._v("展示")]),a("a-radio",{attrs:{value:e.vUserConfig.productShowConfig.hidden}},[e._v("隐藏")])],1)],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1),e.productVisible?a("product-list",{attrs:{visible:e.productVisible,id:this.id},on:{cancel:e.handleProductSelectCancel,ok:e.handleProductSelectOk}}):e._e()],1)},r=[],n=a("a078"),s=a("0fea"),o=a("57c5"),l={props:{id:{type:String,required:!0}},components:{ProductList:o["a"]},data:function(){return this.vUserConfig=n["n"],this.position=0,{form:this.$form.createForm(this),data:{},pId1:"",title1:"",price1:"",pId2:"",title2:"",price2:"",productVisible:!1}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(s["l"])({isShow:a.isShow,pid:[],vid:t.id,type:n["n"].productType.course}).then((function(e){t.$notification.success({message:"商品推荐修改成功"})}))}))},selectProduct:function(e){this.productVisible=!0,this.position=e},handleProductSelectOk:function(e){this.productVisible=!1,0===this.position?(this.pId1=e.id,this.title1=e.title,this.price1=e.price):(this.pId2=e.id,this.title2=e.title,this.price2=e.price)},handleProductSelectCancel:function(){this.productVisible=!1}},created:function(){var e=this;Object(s["ab"])({vid:this.id,type:n["n"].productType.course}).then((function(t){if(e.data=t.data,e.data.good){var a,i,r,n;if(e.data.good.length>=1)e.pId1=e.data.good[0].goodId,e.title1=null!==(a=e.data.good[0].title)&&void 0!==a?a:"",e.price1=null!==(i=e.data.good[0].price)&&void 0!==i?i:"";if(e.data.good.length>=2)e.pId2=e.data.good[1].goodId,e.title2=null!==(r=e.data.good[1].title)&&void 0!==r?r:"",e.price2=null!==(n=e.data.good[1].price)&&void 0!==n?n:""}}))}},c=l,d=(a("5f14"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"dce6f690",null);t["a"]=u.exports},1896:function(e,t,a){},"230b":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{staticStyle:{margin:"40px auto 0"},attrs:{form:e.form}},[e._l(e.form.getFieldValue("keys"),(function(t,i){return a("div",{key:t},[a("a-divider",{staticStyle:{"margin-bottom":"20px"}},[e._v(e._s("Icon"+(i+1)))]),a("a-form-item",{attrs:{label:"位置 "+(i+1),labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["styles["+t+"]"],expression:"[`styles[${k}]`]"}]},[a("a-radio",{attrs:{value:e.vUserConfig.iconTypeConfig.default}},[e._v("系统默认")]),a("a-radio",{attrs:{value:e.vUserConfig.iconTypeConfig.customize}},[e._v("自定义")])],1)],1),a("a-col",[a("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o"},on:{click:function(){return e.remove(t)}}})],1)],1)],1),e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.default?a("a-form-item",{attrs:{label:"系统默认",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["systemStyles["+t+"]",{rules:[{required:e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.default,message:"请选择系统默认配置"}]}],expression:"[\n          `systemStyles[${k}]`,\n          {rules: [{ required: form.getFieldValue(`styles[${k}]`) === vUserConfig.iconTypeConfig.default, message: `请选择系统默认配置` }]}\n        ]"}],attrs:{placeholder:"请选择系统默认配置"}},[a("a-select-option",{attrs:{value:e.vUserConfig.iconDefaultSystemConfig.houseGround}},[e._v("房圈广场")]),a("a-select-option",{attrs:{value:e.vUserConfig.iconDefaultSystemConfig.houseRecommend}},[e._v("买房推荐")]),a("a-select-option",{attrs:{value:e.vUserConfig.iconDefaultSystemConfig.houseTool}},[e._v("购房工具")]),a("a-select-option",{attrs:{value:e.vUserConfig.iconDefaultSystemConfig.welfare}},[e._v("领取福利")]),a("a-select-option",{attrs:{value:e.vUserConfig.iconDefaultSystemConfig.sign}},[e._v("签到有礼")])],1)],1):e._e(),e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.customize?a("a-form-item",{staticClass:"avatar-uploader-container",attrs:{label:"Icon"+(i+1)+"图标",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["pics["+t+"]",{rules:[{required:e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.customize,message:"请选择Icon"+(i+1)+"图标"}]}],expression:"[\n          `pics[${k}]`,\n          {rules: [{ required: form.getFieldValue(`styles[${k}]`) === vUserConfig.iconTypeConfig.customize, message: `请选择Icon${index+1}图标` }]}\n        ]"}],staticClass:"avatar-uploader",attrs:{"list-type":"picture-card","show-upload-list":!1,action:e.getUploadPic,data:e.getData,headers:{Authorization:"Bearer "+e.token},"before-upload":e.beforeUpload},on:{change:function(a){return e.handleChange(a,t)}}},[e.map.get("pic"+t)?a("img",{staticClass:"activity-pic",attrs:{src:e.map.get("pic"+t),alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.map.get("loading"+t)?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" Upload ")])],1)]),a("span",{staticStyle:{color:"grey","line-height":"20px","font-size":"10px"}},[e._v("图片建议尺寸90*80px")])],1):e._e(),e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.customize?a("a-form-item",{attrs:{label:"Icon"+(i+1)+"标题",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["titles["+t+"]",{rules:[{required:e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.customize,message:"请输入Icon"+(i+1)+"标题"}]}],expression:"[\n          `titles[${k}]`,\n          {rules: [{ required: form.getFieldValue(`styles[${k}]`) === vUserConfig.iconTypeConfig.customize, message: `请输入Icon${index+1}标题` }]}\n        ]"}],attrs:{name:"name",placeholder:"Icon"+(i+1)+"标题"}})],1):e._e(),e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.customize?a("a-form-item",{attrs:{label:"Icon"+(i+1)+"链接",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["urls["+t+"]",{rules:[{required:e.form.getFieldValue("styles["+t+"]")===e.vUserConfig.iconTypeConfig.customize,message:"请输入Icon"+(i+1)+"链接"}]}],expression:"[\n          `urls[${k}]`,\n          {rules: [{ required: form.getFieldValue(`styles[${k}]`) === vUserConfig.iconTypeConfig.customize, message: `请输入Icon${index+1}链接` }]}\n        ]"}],attrs:{name:"name",placeholder:"Icon"+(i+1)+"链接"}})],1):e._e()],1)})),a("a-form-item",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.add}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增Icon ")],1)],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],2)},r=[],n=a("2909"),s=a("5530"),o=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("99af"),a("4de4"),a("a078")),l=a("0fea"),c=a("8ded"),d=a.n(c),u=a("9fb0"),p=a("ca00"),m=0;function f(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var g={props:{id:{type:String,required:!0}},data:function(){return this.vUserConfig=o["n"],{data:{},map:new Map,token:d.a.get(u["a"])}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"dynamic_form_item"}),this.form.getFieldDecorator("keys",{initialValue:[],preserve:!0})},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e&&a.keys){var i=[];a.keys.map((function(e){var r,l,c,d={vid:t.id,style:a.styles[e]};d.style===o["n"].iconTypeConfig.default?d=Object(s["a"])(Object(s["a"])({},d),{},{systemStyle:a.systemStyles[e]}):d=Object(s["a"])(Object(s["a"])({},d),{},{title:a.titles[e],pic:a.pics[e].file?null===(r=a.pics[e].file)||void 0===r||null===(l=r.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.key:a.pics[e],url:a.urls[e]});i=[].concat(Object(n["a"])(i),[d])})),Object(l["i"])({vid:t.id,data:i}).then((function(e){t.$notification.success({message:"Icon添加成功"})}))}}))},getPhoto:function(e){return null},getTitle:function(e){return""},getUrl:function(e){return""},remove:function(e){var t=this.form,a=t.getFieldValue("keys");t.setFieldsValue({keys:a.filter((function(t){return t!==e}))})},add:function(){var e=this.form,t=e.getFieldValue("keys"),a=t.concat(m++);e.setFieldsValue({keys:a}),e.getFieldDecorator("styles[".concat(m-1,"]"),{initialValue:this.vUserConfig.iconTypeConfig.default,preserve:!0})},getUploadPic:function(){return Object(p["s"])()},handleChange:function(e,t){var a=this;"uploading"!==e.file.status?"done"===e.file.status&&f(e.file.originFileObj,(function(e){a.map=new Map(a.map.set("pic".concat(t),e)),a.map=new Map(a.map.set("loading".concat(t),!1))})):this.map=new Map(this.map.set("loading".concat(t),!0))},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("You can only upload JPG file!"),t},getData:function(e){return{file:e}}},created:function(){var e=this;Object(l["W"])(this.id).then((function(t){if(e.data=t.data,e.data.length>0){var a=0;e.data.map((function(t,i){var r=e.form,n=r.getFieldValue("keys"),s=n.concat(a++);r.setFieldsValue({keys:s}),m=a;var l=new Map;l.set("pics[".concat(i,"]"),t.pic),r.getFieldDecorator("styles[".concat(i,"]"),{initialValue:t.style,preserve:!0}),t.style===o["n"].iconTypeConfig.default?r.getFieldDecorator("systemStyles[".concat(i,"]"),{initialValue:t.systemStyle,preserve:!0}):(r.getFieldDecorator("pics[".concat(i,"]"),{initialValue:t.pic.key,preserve:!0}),r.getFieldDecorator("titles[".concat(i,"]"),{initialValue:t.title,preserve:!0}),r.getFieldDecorator("urls[".concat(i,"]"),{initialValue:t.url,preserve:!0}),e.map=new Map(e.map.set("pic".concat(i),t.pic.url)))}))}}))}},v=g,h=(a("ce9f"),a("2877")),y=Object(h["a"])(v,i,r,!1,null,"49ef574c",null);t["a"]=y.exports},"2b7b":function(e,t,a){"use strict";a("eee1")},"2c4c":function(e,t,a){},"32ac":function(e,t,a){},"34c9":function(e,t,a){},"374e":function(e,t,a){"use strict";a("32ac")},"4d23":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{staticStyle:{margin:"40px auto 0"},attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"是否展示",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isShow",{rules:[{required:!0,message:"选择是否展示"}],initialValue:this.data.isShow}],expression:"['isShow', {rules: [{ required: true, message: `选择是否展示` }], initialValue: this.data.isShow}]"}]},[a("a-radio",{attrs:{value:e.vUserConfig.productShowConfig.isShow}},[e._v("展示")]),a("a-radio",{attrs:{value:e.vUserConfig.productShowConfig.hidden}},[e._v("隐藏")])],1)],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1),e.productVisible?a("product-list",{attrs:{visible:e.productVisible,id:this.id},on:{cancel:e.handleProductSelectCancel,ok:e.handleProductSelectOk}}):e._e()],1)},r=[],n=a("a078"),s=a("0fea"),o=a("57c5"),l={props:{id:{type:String,required:!0}},components:{ProductList:o["a"]},data:function(){return this.vUserConfig=n["n"],this.position=0,{form:this.$form.createForm(this),data:{},pId1:"",title1:"",price1:"",pId2:"",title2:"",price2:"",productVisible:!1}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(s["l"])({isShow:a.isShow,vid:t.id,pid:[],type:n["n"].productType.service}).then((function(e){t.$notification.success({message:"商品推荐修改成功"})}))}))},selectProduct:function(e){this.productVisible=!0,this.position=e},handleProductSelectOk:function(e){this.productVisible=!1,0===this.position?(this.pId1=e.id,this.title1=e.title,this.price1=e.price):(this.pId2=e.id,this.title2=e.title,this.price2=e.price)},handleProductSelectCancel:function(){this.productVisible=!1}},created:function(){var e=this;Object(s["ab"])({vid:this.id,type:n["n"].productType.service}).then((function(t){if(e.data=t.data,e.data.good){var a,i,r,n;if(e.data.good.length>=1)e.pId1=e.data.good[0].goodId,e.title1=null!==(a=e.data.good[0].title)&&void 0!==a?a:"",e.price1=null!==(i=e.data.good[0].price)&&void 0!==i?i:"";if(e.data.good.length>=2)e.pId2=e.data.good[1].goodId,e.title2=null!==(r=e.data.good[1].title)&&void 0!==r?r:"",e.price2=null!==(n=e.data.good[1].price)&&void 0!==n?n:""}}))}},c=l,d=(a("2b7b"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"41ded566",null);t["a"]=u.exports},5711:function(e,t,a){},"57c5":function(e,t,a){"use strict";var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("a-modal",{attrs:{title:"选择商品",width:1200,visible:t.visible,footer:null,destroyOnClose:""},on:{ok:function(){t.$emit("ok")},cancel:function(){t.$emit("cancel")}}},[i("div",{staticClass:"table-page-search-wrapper"},[i("a-form",{attrs:{layout:"inline"}},[i("a-row",{attrs:{gutter:48}},[i("a-col",{attrs:{md:8,sm:24}},[i("a-form-item",{attrs:{label:"商品名称"}},[i("a-input",{attrs:{placeholder:"商品名称"},model:{value:t.queryParam.title,callback:function(e){t.$set(t.queryParam,"title",e)},expression:"queryParam.title"}})],1)],1),i("a-col",{attrs:{md:8,sm:24}},[i("a-form-item",{attrs:{label:"商品 id"}},[i("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.id,callback:function(e){t.$set(t.queryParam,"id",e)},expression:"queryParam.id"}})],1)],1),i("a-col",{attrs:{md:8,sm:24}},[i("span",{staticClass:"table-page-search-submitButtons",style:{float:"right",overflow:"hidden"}},[i("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),i("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){e.queryParam={},e.vData={name:""}}}},[t._v("重置")])],1)])],1)],1)],1),i("div",{staticClass:"table-operator"},[i("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleAdd}},[t._v("新建")])],1),i("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:t.columns,data:t.loadData,showPagination:"auto"},scopedSlots:t._u([{key:"type",fn:function(e){return i("span",{},[t._v(" "+t._s(t.getProductType(e))+" ")])}},{key:"price",fn:function(e){return i("span",{},[t._v(" ¥"+t._s(parseFloat((e/100).toString()).toFixed(2))+" ")])}},{key:"status",fn:function(e,a){return i("span",{},[t._v(" "+t._s(t.getProductStatus(a))+" ")])}},{key:"action",fn:function(e,a){return i("span",{},[[i("a",{on:{click:function(){t.$emit("ok",a)}}},[t._v("选择")])]],2)}}])})],1)},r=[],n=(a("d3b7"),a("25f0"),a("2af9")),s=a("0fea"),o=a("a078"),l=a("ca00"),c=[{title:"商品id",dataIndex:"id"},{title:"商品名称",dataIndex:"title"},{title:"商品类型",dataIndex:"type",scopedSlots:{customRender:"type"}},{title:"价格",scopedSlots:{customRender:"price"},dataIndex:"price"},{title:"销量",dataIndex:"saleNum"},{title:"库存",dataIndex:"num"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],d={props:{visible:{type:Boolean,required:!0},id:{type:String,required:!0}},components:{STable:n["c"]},data:function(){var e=this;return this.columns=c,this.productConfig=o["j"],{queryParam:{},advanced:!1,loadData:function(t){var a=Object.assign({vId:Object(l["z"])()?Object(l["t"])():"",status:e.productConfig.productStatus.selling,type:e.productConfig.productType.realProduct},t,e.queryParam);return Object(s["bb"])(a).then((function(e){return{data:e.data.list,page:a.page,total:e.data.total}}))}}},methods:{exportData:function(){},toggleAdvanced:function(){this.advanced=!this.advanced},handleAdd:function(){this.$router.push("/product/create-product")},getProductType:function(e){return Object(l["o"])(null===e||void 0===e?void 0:e.toString())},getProductStatus:function(e){return Object(l["n"])(e)}},created:function(){}},u=d,p=a("2877"),m=Object(p["a"])(u,i,r,!1,null,null,null);t["a"]=m.exports},"5f14":function(e,t,a){"use strict";a("2c4c")},b06c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{staticStyle:{margin:"40px auto 0"},attrs:{form:e.form}},[e._l(e.form.getFieldValue("keys"),(function(t,i){return a("div",{key:t},[a("a-divider",{staticStyle:{"margin-bottom":"20px"}},[e._v(e._s("广告"+(i+1)))]),a("a-form-item",{staticClass:"avatar-uploader-container",attrs:{label:"广告"+(i+1)+"封面",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["pics["+t+"]",{rules:[{required:!0,message:"请选择广告"+(i+1)+"封面"}]}],expression:"[\n              `pics[${k}]`,\n              {rules: [{ required: true, message: `请选择广告${index+1}封面` }]}\n            ]"}],staticClass:"avatar-uploader",attrs:{"list-type":"picture-card","show-upload-list":!1,action:e.getUploadPic,data:e.getData,headers:{Authorization:"Bearer "+e.token},"before-upload":e.beforeUpload},on:{change:function(a){return e.handleChange(a,t)}}},[e.map.get("pic"+t)?a("img",{staticClass:"activity-pic",attrs:{src:e.map.get("pic"+t),alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.map.get("loading"+t)?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" 上传 ")])],1)])],1),a("a-col",[a("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o"},on:{click:function(){return e.remove(t)}}})],1)],1),a("span",{staticStyle:{color:"grey","line-height":"20px","font-size":"10px"}},[e._v("图片建议尺寸690*205px")])],1),a("a-form-item",{attrs:{label:"广告"+(i+1)+"标题",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["titles["+t+"]",{rules:[{required:!0,message:"请输入广告"+(i+1)+"标题"}]}],expression:"[\n          `titles[${k}]`,\n          {rules: [{ required: true, message: `请输入广告${index+1}标题` }]}\n        ]"}],attrs:{name:"name",placeholder:"广告"+(i+1)+"标题"}})],1),a("a-form-item",{attrs:{label:"广告"+(i+1)+"链接",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["urls["+t+"]",{rules:[{required:!0,message:"请输入广告"+(i+1)+"链接"}]}],expression:"[\n          `urls[${k}]`,\n          {rules: [{ required: true, message: `请输入广告${index+1}链接` }]}\n        ]"}],attrs:{name:"name",placeholder:"广告"+(i+1)+"链接"}})],1)],1)})),a("a-form-item",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.add}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增广告 ")],1)],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],2)},r=[],n=a("2909"),s=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("99af"),a("4de4"),a("a078")),o=a("0fea"),l=a("8ded"),c=a.n(l),d=a("9fb0"),u=a("ca00"),p=0;function m(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var f={props:{id:{type:String,required:!0}},data:function(){return this.vUserConfig=s["n"],{data:{},map:new Map,token:c.a.get(d["a"])}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"dynamic_form_item"}),this.form.getFieldDecorator("keys",{initialValue:[],preserve:!0})},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e&&a.keys){var i=[];a.keys.map((function(e){var r,s,o;i=[].concat(Object(n["a"])(i),[{vid:t.id,title:a.titles[e],pic:a.pics[e].file?null===(r=a.pics[e].file)||void 0===r||null===(s=r.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.key:a.pics[e],url:a.urls[e]}])})),Object(o["b"])({vid:t.id,data:i}).then((function(e){t.$notification.success({message:"广告添加成功"})}))}}))},getPhoto:function(e){return null},getTitle:function(e){return""},getUrl:function(e){return""},remove:function(e){var t=this.form,a=t.getFieldValue("keys");t.setFieldsValue({keys:a.filter((function(t){return t!==e}))})},add:function(){var e=this.form,t=e.getFieldValue("keys"),a=t.concat(p++);e.setFieldsValue({keys:a})},handleChange:function(e,t){var a=this;"uploading"!==e.file.status?"done"===e.file.status&&m(e.file.originFileObj,(function(e){a.map=new Map(a.map.set("pic".concat(t),e)),a.map=new Map(a.map.set("loading".concat(t),!1))})):this.map=new Map(this.map.set("loading".concat(t),!0))},getUploadPic:function(){return Object(u["s"])()},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("You can only upload JPG file!"),t},getData:function(e){return{file:e}}},created:function(){var e=this;Object(o["F"])(this.id).then((function(t){if(e.data=t.data,e.data.length>0){var a=0;e.data.map((function(t,i){var r=e.form,n=r.getFieldValue("keys"),s=n.concat(a++);r.setFieldsValue({keys:s}),p=a;var o=new Map;o.set("pics[".concat(i,"]"),t.pic),r.getFieldDecorator("pics[".concat(i,"]"),{initialValue:t.pic.key,preserve:!0}),r.getFieldDecorator("titles[".concat(i,"]"),{initialValue:t.title,preserve:!0}),r.getFieldDecorator("urls[".concat(i,"]"),{initialValue:t.url,preserve:!0}),e.map=new Map(e.map.set("pic".concat(i),t.pic.url))}))}}))}},g=f,v=(a("374e"),a("2877")),h=Object(v["a"])(g,i,r,!1,null,"9e9f757c",null);t["a"]=h.exports},ce9f:function(e,t,a){"use strict";a("5711")},d1b1:function(e,t,a){"use strict";a("fe2d")},d30a:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"店铺名称",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入客户姓名"}],initialValue:e.data.name}],expression:"[\n        'name',\n        {rules: [{ required: true, message: '请输入客户姓名' }], initialValue: data.name}\n      ]"}],attrs:{name:"name",placeholder:"店铺名称"}})],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))])],1)],1)},r=[],n=a("5530"),s=a("a078"),o=a("0fea"),l={props:{id:{type:String,required:!0}},data:function(){return this.vUserConfig=s["n"],{form:this.$form.createForm(this),data:{}}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(o["mb"])(Object(n["a"])(Object(n["a"])({},a),{},{vid:t.id})).then((function(e){t.$notification.success({message:"修改成功"})}))}))}},created:function(){var e=this;Object(o["cb"])(this.id).then((function(t){e.data=t.data}))}},c=l,d=(a("16cd"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"66028e80",null);t["a"]=u.exports},d70c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{staticStyle:{margin:"40px auto 0"},attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"是否展示",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isShow",{rules:[{required:!0,message:"选择是否展示"}],initialValue:this.data.isShow}],expression:"['isShow', {rules: [{ required: true, message: `选择是否展示` }], initialValue: this.data.isShow}]"}]},[a("a-radio",{attrs:{value:e.vUserConfig.productShowConfig.isShow}},[e._v("展示")]),a("a-radio",{attrs:{value:e.vUserConfig.productShowConfig.hidden}},[e._v("隐藏")])],1)],1),e._l(e.form.getFieldValue("keys"),(function(t,i){return a("div",{key:t},[a("a-form-item",{attrs:{label:"商品 "+(i+1),labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",[a("div",{directives:[{name:"decorator",rawName:"v-decorator",value:["pIds["+t+"]",{rules:[{required:!0,message:"请选择商品"}]}],expression:"[\n              `pIds[${k}]`,\n              {rules: [{ required: true, message: '请选择商品' }]}\n            ]"}],staticClass:"coupon-container",on:{click:function(a){return e.selectProduct(t)}}},[e.map.get("pId"+t)?e._e():a("a-icon",{attrs:{type:"plus"}}),e.map.get("pId"+t)?a("div",[a("span",{staticClass:"coupon-info"},[e._v(e._s(e.map.get("title"+t)))])]):e._e(),e.map.get("pId"+t)?a("div",[a("span",{staticClass:"coupon-info"},[e._v("¥ "+e._s(e.map.get("price"+t)?(parseInt(""+e.map.get("price"+t))/100).toFixed(2):0))])]):e._e()],1)]),a("a-col",[a("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o"},on:{click:function(){return e.remove(t)}}})],1)],1)],1)],1)})),a("a-form-item",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.add}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增商品 ")],1)],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1),e.productVisible?a("product-list",{attrs:{visible:e.productVisible,id:this.id},on:{cancel:e.handleProductSelectCancel,ok:e.handleProductSelectOk}}):e._e()],2)},r=[],n=a("2909"),s=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("99af"),a("4de4"),a("a078")),o=a("0fea"),l=a("57c5"),c=0,d={props:{id:{type:String,required:!0}},components:{ProductList:l["a"]},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"dynamic_form_item"}),this.form.getFieldDecorator("keys",{initialValue:[],preserve:!0})},data:function(){return this.vUserConfig=s["n"],this.position=0,{data:{},pId1:"",title1:"",price1:"",pId2:"",title2:"",price2:"",productVisible:!1,map:new Map}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){var i=[];a.keys&&a.keys.map((function(e){i=[].concat(Object(n["a"])(i),[a.pIds[e]])})),Object(o["l"])({isShow:a.isShow,vid:t.id,pid:i,type:s["n"].productType.recommend}).then((function(e){t.$notification.success({message:"商品推荐修改成功"})}))}}))},remove:function(e){var t=this.form,a=t.getFieldValue("keys");t.setFieldsValue({keys:a.filter((function(t){return t!==e}))})},add:function(){var e=this.form,t=e.getFieldValue("keys"),a=t.concat(c++);e.setFieldsValue({keys:a})},selectProduct:function(e){this.productVisible=!0,this.position=e},handleProductSelectOk:function(e){this.productVisible=!1,this.map=new Map(this.map.set("pId".concat(this.position),e.id)),this.map=new Map(this.map.set("title".concat(this.position),e.title)),this.map=new Map(this.map.set("price".concat(this.position),e.price)),this.form.getFieldDecorator("pIds[".concat(this.position,"]"),{initialValue:e.id,preserve:!0})},handleProductSelectCancel:function(){this.productVisible=!1}},created:function(){var e=this;Object(o["ab"])({vid:this.id,type:s["n"].productType.recommend}).then((function(t){if(e.data=t.data,e.data.good&&e.data.good.length>0){var a=0;e.data.good.map((function(t,i){var r=e.form,n=r.getFieldValue("keys"),s=n.concat(a++);r.setFieldsValue({keys:s}),c=a,r.getFieldDecorator("pIds[".concat(i,"]"),{initialValue:t.goodId,preserve:!0}),e.map=new Map(e.map.set("pId".concat(i),t.goodId)),e.map=new Map(e.map.set("title".concat(i),t.title)),e.map=new Map(e.map.set("price".concat(i),t.price))}))}}))}},u=d,p=(a("ea9b"),a("2877")),m=Object(p["a"])(u,i,r,!1,null,"36779101",null);t["a"]=m.exports},ea9b:function(e,t,a){"use strict";a("1896")},eee1:function(e,t,a){},fe2d:function(e,t,a){}}]);